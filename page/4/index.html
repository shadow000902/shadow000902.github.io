<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="google-site-verification" content="icHwxZMwWfYpn47DgI1Za6CeqXvoEj-7y1sEoJvdVSo">
<meta name="baidu-site-verification" content="e5lNxffZa8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|Monaco:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="Shadow'S Site" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta name="description" content="谁当声震人间，必长久深自缄默。谁当划破闪电，必长久如云漂泊。">
<meta property="og:type" content="website">
<meta property="og:title" content="Shadow'S Site">
<meta property="og:url" content="http://shadow000902.space/page/4/index.html">
<meta property="og:site_name" content="Shadow'S Site">
<meta property="og:description" content="谁当声震人间，必长久深自缄默。谁当划破闪电，必长久如云漂泊。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shadow'S Site">
<meta name="twitter:description" content="谁当声震人间，必长久深自缄默。谁当划破闪电，必长久如云漂泊。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '436785',
      author: 'shadow'
    },
    algolia: {
      applicationID: '0HPI7IYB5V',
      apiKey: 'c41b4c8f05b63867c231cd2ef194a34f',
      indexName: 'Hexo_search',
      hits: {"per_page":10},
      labels: {"input_placeholder":"请输入关键字","hits_empty":"没有找到与【${query}】相关的内容","hits_stats":"${hits} 条记录，共耗时 ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://shadow000902.space/page/4/">





  <title>Shadow'S Site</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-18711495-2', 'auto');
  ga('send', 'pageview');

</script>



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b2e7edb34a402c6fa45e71e2a2456518";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Shadow'S Site</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">谁当声震人间，必长久深自缄默。谁当划破闪电，必长久如云漂泊。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">

          <!-- 增加下面语句 -->
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow000902.space/2016/07/12/Mac系统自带Terminal登录ssh自动记录密码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadow'S Site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/12/Mac系统自带Terminal登录ssh自动记录密码/" itemprop="url">Mac系统自带Terminal登录ssh自动记录密码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-12T10:03:45+08:00">
                2016-07-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mac/" itemprop="url" rel="index">
                    <span itemprop="name">Mac</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mac/SSH/" itemprop="url" rel="index">
                    <span itemprop="name">SSH</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/12/Mac系统自带Terminal登录ssh自动记录密码/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2016/07/12/Mac系统自带Terminal登录ssh自动记录密码/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          
             <span id="/2016/07/12/Mac系统自带Terminal登录ssh自动记录密码/" class="leancloud_visitors" data-flag-title="Mac系统自带Terminal登录ssh自动记录密码">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>系统自带终端的ssh是标准的OpenSSH client</p>
<p>如果需要克隆会话功能，可以通过配置打开。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim ~/.ssh/config</div></pre></td></tr></table></figure></p>
<pre><code>&lt;!--more--&gt;
</code></pre><p>把一下内容：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Host *</div><div class="line">    ControlMaster auto</div><div class="line">    ControlPath ~/.ssh/%h-%p-%r</div><div class="line">    ControlPersist yes</div></pre></td></tr></table></figure></p>
<p>填入config文件中</p>
<p>查看config中的内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ cat .ssh/config</div><div class="line">Host *</div><div class="line">    ControlMaster auto</div><div class="line">    ControlPath ~/.ssh/%h-%p-%r</div><div class="line">    ControlPersist yes</div></pre></td></tr></table></figure></p>
<p>这样每连上一个服务器都会自动在~/.ssh/下创建一个socket文件，下次用相同用户名、端口、主机名进行连接就会自动复用。</p>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow000902.space/2016/07/07/Linux下解压缩命令详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadow'S Site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/07/Linux下解压缩命令详解/" itemprop="url">Linux下解压缩命令详解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-07T00:52:04+08:00">
                2016-07-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/07/Linux下解压缩命令详解/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2016/07/07/Linux下解压缩命令详解/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          
             <span id="/2016/07/07/Linux下解压缩命令详解/" class="leancloud_visitors" data-flag-title="Linux下解压缩命令详解">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <ol>
<li><p>zip&amp;unzip</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">zip -r mydata.zip mydata        # 压缩mydata文件夹到mydata.zip</div><div class="line">unzip mydata.zip -d mydatabak   # 把mydata.zip解压到mydatabak文件夹中</div></pre></td></tr></table></figure>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/07/07/Linux下解压缩命令详解/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </li></ol></div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow000902.space/2016/07/07/Linux下命令行安装配置android-sdk/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadow'S Site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/07/Linux下命令行安装配置android-sdk/" itemprop="url">Linux下命令行安装配置android-sdk</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-07T00:05:16+08:00">
                2016-07-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Sdk/" itemprop="url" rel="index">
                    <span itemprop="name">Sdk</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Sdk/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/07/Linux下命令行安装配置android-sdk/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2016/07/07/Linux下命令行安装配置android-sdk/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          
             <span id="/2016/07/07/Linux下命令行安装配置android-sdk/" class="leancloud_visitors" data-flag-title="Linux下命令行安装配置android-sdk">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <ol>
<li><p>首先需要下载android sdk tools only</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">wget https://dl.google.com/android/android-sdk_r24.4.1-linux.tgz</div><div class="line">tar -zxvf android-sdk_r24.4.1-linux.tgz</div></pre></td></tr></table></figure>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/07/07/Linux下命令行安装配置android-sdk/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </li></ol></div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow000902.space/2016/07/01/Appium的几点总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadow'S Site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/01/Appium的几点总结/" itemprop="url">Appium的几点总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-01T00:28:20+08:00">
                2016-07-01
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Appium/" itemprop="url" rel="index">
                    <span itemprop="name">Appium</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/01/Appium的几点总结/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2016/07/01/Appium的几点总结/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          
             <span id="/2016/07/01/Appium的几点总结/" class="leancloud_visitors" data-flag-title="Appium的几点总结">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="建立session时常用命令"><a href="#建立session时常用命令" class="headerlink" title="建立session时常用命令"></a>建立session时常用命令</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">DesiredCapabilities cap = new DesiredCapabilities();</div><div class="line">cap.SetCapability(<span class="string">"browserName"</span>, <span class="string">""</span>);                                                           // web 浏览器名称（<span class="string">'Safari'</span> ,<span class="string">'Chrome'</span>等）。如果对应用进行自动化测试，这个关键字的值应为空。</div><div class="line">cap.SetCapability(<span class="string">"platformName"</span>, <span class="string">"Android"</span>);                                                   //你要测试的手机操作系统</div><div class="line">cap.SetCapability(<span class="string">"platformVersion"</span>, <span class="string">"4.4"</span>);                                                    //手机操作系统版本</div><div class="line">cap.SetCapability(<span class="string">"automationName"</span>, <span class="string">"selendroid"</span>);                                              //你想使用的自动化测试引擎：Appium (默认) 或 Selendroid</div><div class="line">cap.SetCapability(<span class="string">"deviceName"</span>, <span class="string">" Android Emulator"</span>);                                           //使用的手机类型或模拟器类型，真机时输入Android Emulator或者手机型号</div><div class="line">cap.SetCapability(<span class="string">"udid"</span>, udid);                                                                //连接的物理设备的唯一设备标识,Android可以不设置</div><div class="line"></div><div class="line">cap.SetCapability(<span class="string">"newCommandTimeout"</span>, <span class="string">"300"</span>);                                                  //设置收到下一条命令的超时时间,超时appium会自动关闭session ,默认<span class="number">60</span>秒</div><div class="line">cap.SetCapability(<span class="string">"unicodeKeyboard"</span>, <span class="string">"True"</span>);                                                   //支持中文输入，会自动安装Unicode 输入法。默认值为 false</div><div class="line">cap.SetCapability(<span class="string">"resetKeyboard"</span>, <span class="string">"True"</span>);                                                     //在设定了 unicodeKeyboard 关键字的 Unicode 测试结束后，重置输入法到原有状态</div><div class="line"></div><div class="line">cap.SetCapability(<span class="string">"'app'"</span>, <span class="string">"D:\\AndroidAutomation\\AndroidAutoTest\\app\\zhongchou.apk"</span>);       //未安装应用时，设置app的路径</div><div class="line"></div><div class="line">//手机已安装app，直接从手机启动app，上面路径不设置</div><div class="line">cap.SetCapability(<span class="string">"appPackage"</span>, <span class="string">"com.nbbank"</span>);                                                  //你要启动的Android 应用对应的Activity名称|比如`MainActivity`, `.Settings`|</div><div class="line">cap.SetCapability(<span class="string">"appActivity"</span>, <span class="string">"com.nbbank.ui.ActivityShow"</span>);                                 //你想运行的Android应用的包名</div><div class="line">cap.SetCapability(<span class="string">"appWaitActivity"</span>, <span class="string">"com.nbbank.ui.ActivityLogo"</span>);                             //你想要等待启动的Android Activity名称|比如`SplashActivity`|</div><div class="line"></div><div class="line">Uri serverUri = new Uri(<span class="string">"http://127.0.0.1:4723/wd/hub"</span>);</div><div class="line">driver = new AndroidDriver&lt;IWebElement&gt;(serverUri, cap, TimeSpan.FromSeconds(<span class="number">180</span>));</div></pre></td></tr></table></figure>
<pre><code>&lt;!--more--&gt;
</code></pre><h4 id="driver常用方法及注意事项"><a href="#driver常用方法及注意事项" class="headerlink" title="driver常用方法及注意事项"></a>driver常用方法及注意事项</h4><h5 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">driver.HideKeyboard();                                                                  //隐藏键盘</div><div class="line">driver.BackgroundApp(<span class="number">60</span>);                                                               //<span class="number">60</span>秒后把当前应用放到后台去</div><div class="line">driver.LockDevice(<span class="number">3</span>);                                                                   //锁定屏幕</div><div class="line"></div><div class="line">//在当前应用中打开一个 activity 或者启动一个新应用并打开一个 activity</div><div class="line">driver.StartActivity(<span class="string">"com.iwobanas.screenrecorder.pro"</span>, <span class="string">"com.iwobanas.screenrecorder.RecorderActivity"</span>);</div><div class="line">driver.OpenNotifications();                                                             //打开下拉通知栏 只能在 Android 上使用</div><div class="line">driver.IsAppInstalled(<span class="string">"com.example.android.apis-"</span>);                                     //检查应用是否已经安装</div><div class="line">driver.InstallApp(<span class="string">"path/to/my.apk"</span>);                                                    //安装应用到设备中去</div><div class="line">driver.RemoveApp(<span class="string">"com.example.android.apis"</span>);                                           //从设备中删除一个应用</div><div class="line">driver.ShakeDevice();                                                                   //模拟设备摇晃</div><div class="line">driver.CloseApp();                                                                      //关闭应用</div><div class="line">driver.LaunchApp();                                                                     //根据服务关键字 (desired capabilities) 启动会话 (session) 。请注意这必须在设定 autoLaunch=false 关键字时才能生效。这不是用于启动指定的 app/activities</div><div class="line">driver.ResetApp();                                                                      //应用重置</div><div class="line">driver.GetContexts();                                                                   //列出所有的可用上下文</div><div class="line">driver.GetContext();                                                                    //列出当前上下文</div><div class="line">driver.SetContext(<span class="string">"name"</span>);                                                              //将上下文切换到默认上下文</div><div class="line">driver.GetAppStrings();                                                                 //获取应用的字符串</div><div class="line">driver.KeyEvent(<span class="number">176</span>);                                                                   //给设备发送一个按键事件:keycode</div><div class="line">driver.GetCurrentActivity();                                                            //获取当前 activity。只能在 Android 上使用</div><div class="line">//driver.Pinch(<span class="number">25</span>, <span class="number">25</span>);                                                                 //捏屏幕 (双指往内移动来缩小屏幕)</div><div class="line">//driver.Zoom(<span class="number">100</span>, <span class="number">200</span>);                                                                //放大屏幕 (双指往外移动来放大屏幕)</div><div class="line">driver.PullFile(<span class="string">"Library/AddressBook/AddressBook.sqlitedb"</span>);                            //从设备中拉出文件</div><div class="line">driver.PushFile(<span class="string">"/data/local/tmp/file.txt"</span>, <span class="string">"some data for the file"</span>);                  //推送文件到设备中去</div><div class="line"></div><div class="line">driver.FindElement(By.Name(<span class="string">""</span>));</div><div class="line">driver.FindElementById(<span class="string">"id"</span>);</div><div class="line">driver.FindElementByName(<span class="string">"text"</span>);</div><div class="line">driver.FindElementByXPath(<span class="string">"//*[@name='62']"</span>);</div></pre></td></tr></table></figure>
<h5 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h5><p>使用driver.Sendkeys(string str)向文本框输入内容前，最好先element.Click( )一下，否则某些情况下,输入的内容会请不掉，文本框提示的内容也会在 输入的文本前显示出来。sendkey方法在发送数据之前会清空一下文本框，一般不需要Clear，如前面的情况Clear后仍是存在的，click后正常</p>
<h4 id="等待页面加载策略"><a href="#等待页面加载策略" class="headerlink" title="等待页面加载策略"></a>等待页面加载策略</h4><h5 id="显性等待：调用selenium的方法，-需要添加WebDriver-Support引用"><a href="#显性等待：调用selenium的方法，-需要添加WebDriver-Support引用" class="headerlink" title="显性等待：调用selenium的方法， 需要添加WebDriver.Support引用"></a>显性等待：调用selenium的方法， 需要添加WebDriver.Support引用</h5><pre><code>显性等待是指在代码进行下一步操作之前等待某一个条件的发生。最不好的情况是使用Thread.sleep()去设置一段确认的时间去等待。但为什么说最不好呢？因为一个元素的加载时间有长有短，你在设置sleep的时间之前要自己把握长短，太短容易超时，太长浪费时间。selenium webdriver提供了一些方法帮助我们等待正好需要等待的时间
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">WebDriverWait wait = new WebDriverWait(driver, TimeSpan.FromSeconds(<span class="number">10</span>));</div><div class="line">element = wait.Until&lt;IWebElement&gt;((d) =&gt;</div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> driver.FindElement(By.Id(<span class="string">"userName"</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h5 id="隐性等待：设置时间不易过长，设置为500或1000即可"><a href="#隐性等待：设置时间不易过长，设置为500或1000即可" class="headerlink" title="隐性等待：设置时间不易过长，设置为500或1000即可"></a>隐性等待：设置时间不易过长，设置为500或1000即可</h5><pre><code>隐性等待是指当要查找元素，而这个元素没有马上出现时，告诉WebDriver查询Dom一定时间。默认值是0,但是设置之后，这个时间将在WebDriver对象实例整个生命周期都起作用。
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">driver.Manage().Timeouts().ImplicitlyWait(TimeSpan.FromSeconds(<span class="number">1</span>));</div></pre></td></tr></table></figure>
<h4 id="drive-KeyEvent-int-的使用："><a href="#drive-KeyEvent-int-的使用：" class="headerlink" title="drive.KeyEvent(int )的使用："></a>drive.KeyEvent(int )的使用：</h4><p>可使用KeyEvent发送键盘数据，比如退格，Enter键等<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">driver.KeyEvent(<span class="number">3</span>);         //KEYCODE_HOME 按键Home <span class="number">3</span></div><div class="line">driver.KeyEvent(<span class="number">26</span>);        //KEYCODE_POWER 电源键 <span class="number">26</span></div><div class="line">driver.KeyEvent(<span class="number">67</span>);        //KEYCODE_DEL 退格键 <span class="number">67</span></div><div class="line">driver.KeyEvent(<span class="number">66</span>);        //KEYCODE_ENTER 回车键</div><div class="line">driver.KeyEvent(<span class="number">122</span>);       //KEYCODE_MOVE_HOME 光标移动到开始</div><div class="line">driver.KeyEvent(<span class="number">123</span>);       //KEYCODE_MOVE_END 光标移动到末尾</div></pre></td></tr></table></figure></p>
<h4 id="坐标操作"><a href="#坐标操作" class="headerlink" title="坐标操作"></a>坐标操作</h4><p>为防止不同手机分辨率不同带来的影响，要避免使用固定的坐标，可以用以下方式获取元素的坐标<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">double Screen_X = driver.Manage().Window.Size.Width;                    //获取手机屏幕宽度</div><div class="line">double Screen_Y = driver.Manage().Window.Size.Height;                   //获取手机屏幕高度</div><div class="line">double startX = element.Location.X;                                     //获取元素的起点坐标，即元素最左上角点的横坐标</div><div class="line">double startY = element.Location.Y;                                     //获取元素的起点坐标，即元素最左上角点的纵坐标</div><div class="line">double elementWidth = element.Size.Width;                               //获取元素的宽度</div><div class="line">double elementHight = element.Size.Height;                              //获取元素的宽度</div></pre></td></tr></table></figure></p>
<p>在封装“滑动”、“ TouchAction”等操作时可以用以上方法来获取坐标进行操作。</p>
<p><strong>示例：分装两个元素之间的滑动</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">IWebElement elmentA = null;</div><div class="line">IWebElement elmentB = null;</div><div class="line">int startX = 0, startY = 0, endX = 0, endY = 0;</div><div class="line">int duration=0,time=0;</div><div class="line">/// &lt;summary&gt;</div><div class="line">/// 从元素A的位置滑动到元素B的位置</div><div class="line">/// &lt;/summary&gt;</div><div class="line">/// &lt;param name="A"&gt;元素A的名称&lt;/param&gt;</div><div class="line">/// &lt;param name="B"&gt;元素B的名称&lt;/param&gt;</div><div class="line">/// &lt;param name="sDuration"&gt;滑动持续时间&lt;/param&gt;</div><div class="line">/// &lt;param name="sTime"&gt;滑动次数&lt;/param&gt;</div><div class="line">public void SwipeAToB(string A, string B,string sDuration,string sTime)</div><div class="line">&#123;</div><div class="line">    startX = elmentA.Location.X + elmentA.Size.Width / 2;                           //元素A的中心横坐标</div><div class="line">    startY = elmentA.Location.Y + elmentA.Size.Height / 2;                          //元素A的中心纵坐标</div><div class="line">    endX = elmentB.Location.X + elmentB.Size.Width / 2;                             //元素B的中心横坐标</div><div class="line">    endY = elmentB.Location.Y + elmentB.Size.Height / 2;                            //元素B的中心纵坐标</div><div class="line"></div><div class="line">    duration = string.IsNullOrEmpty(sDuration) ? 1500 : int.Parse(sDuration);       //持续时间为空时，默认设置为1500毫秒</div><div class="line">    time = string.IsNullOrEmpty(sTime) ? 1500 : int.Parse(sTime);                   //滑动次数为空时，默认设置为滑动1次</div><div class="line"></div><div class="line">    for (int i = 0; i &lt; time; i++)</div><div class="line">    &#123;</div><div class="line">        driver.Swipe(startX, startY, endX, endY, duration);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>注意：element.Loaction和element.Size,每次获取时都会重新去手机里获取，为节省时间如果有获取相同值的，建议储存成变量。</p>
<h4 id="取消重新安装unlock和setting"><a href="#取消重新安装unlock和setting" class="headerlink" title="取消重新安装unlock和setting"></a>取消重新安装unlock和setting</h4><p>注销如下代码：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Appium\node_modules\appium\lib\devices\android\android.js</div></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span>.series([</div><div class="line">    this.initJavaVersion.bind(this),</div><div class="line">    this.initAdb.bind(this),</div><div class="line">    this.packageAndLaunchActivityFromManifest.bind(this),</div><div class="line">    this.initUiautomator.bind(this),</div><div class="line">    this.prepareDevice.bind(this),</div><div class="line">    this.checkApiLevel.bind(this),</div><div class="line">    this.pushStrings.bind(this),</div><div class="line">    this.processFromManifest.bind(this),</div><div class="line">    this.uninstallApp.bind(this),</div><div class="line">    this.installAppForTest.bind(this),</div><div class="line">    this.forwardPort.bind(this),</div><div class="line">    this.pushAppium.bind(this),</div><div class="line">    this.initUnicode.bind(this),</div><div class="line"></div><div class="line">    // DO NOT push settings app <span class="keyword">and</span> unlock app</div><div class="line">    //this.pushSettingsApp.bind(this),</div><div class="line">    //this.pushUnlock.bind(this),</div><div class="line"></div><div class="line">    function (cb) &#123;this.uiautomator.start(cb);&#125;.bind(this),</div><div class="line">    this.wakeUp.bind(this),</div><div class="line">    this.unlock.bind(this),</div><div class="line">    this.getDataDir.bind(this),</div><div class="line">    this.setupCompressedLayoutHierarchy.bind(this),</div><div class="line">    this.startAppUnderTest.bind(this),</div><div class="line">    this.initAutoWebview.bind(this),</div><div class="line">    this.setActualCapabilities.bind(this)</div><div class="line">  ])</div></pre></td></tr></table></figure>
<h4 id="一台Mac电脑同时跑多个IOS-appium服务"><a href="#一台Mac电脑同时跑多个IOS-appium服务" class="headerlink" title="一台Mac电脑同时跑多个IOS appium服务"></a>一台Mac电脑同时跑多个IOS appium服务</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">iOS appium A服务：appium -p <span class="number">4723</span> --tmp /tmp/tmp4723</div><div class="line">iOS appium B服务：appium -p <span class="number">4724</span> --tmp /tmp/tmp4724</div></pre></td></tr></table></figure>
<p>注意：tmp参数必不可少，否则会出现跑脚本时不断切换服务器切换不到另外一台服务器的问题</p>
<h4 id="Android-appium服务器执行自动化脚本一个多小时总是报FATAL-ERROR-CALL-AND-RETRY-LAST-Allocation-failed-process-out-of-memory内存溢出"><a href="#Android-appium服务器执行自动化脚本一个多小时总是报FATAL-ERROR-CALL-AND-RETRY-LAST-Allocation-failed-process-out-of-memory内存溢出" class="headerlink" title="Android appium服务器执行自动化脚本一个多小时总是报FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - process out of memory内存溢出"></a>Android appium服务器执行自动化脚本一个多小时总是报FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - process out of memory内存溢出</h4><p>通过调整\Appium\node_modules.bin\appium.cmd中的–max-old-space-size内存限制大小参数值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@IF EXIST &quot;%~dp0\node.exe&quot; (</div><div class="line">  &quot;%~dp0\node.exe&quot;  &quot;%~dp0\..\appium\bin\appium.js&quot; %*</div><div class="line">) ELSE (</div><div class="line">  node --max-old-space-size=2047 --gc-global  &quot;%~dp0\..\appium\bin\appium.js&quot; %*</div><div class="line">)</div></pre></td></tr></table></figure></p>
<p>注：–max-old-space-size参数值设置超过2047，如2048启动appium服务器也会报FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - process out of memory<br>查看了相关资料，原来是Node V8做了内存限制，限制了JavaScript所能使用的内存（64位为1.9GB，32位为1GB），暂时还不明白它为啥要做此限制。</p>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow000902.space/2016/07/01/Appium服务关键字/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadow'S Site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/01/Appium服务关键字/" itemprop="url">Appium服务关键字</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-01T00:08:14+08:00">
                2016-07-01
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Appium/" itemprop="url" rel="index">
                    <span itemprop="name">Appium</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/01/Appium服务关键字/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2016/07/01/Appium服务关键字/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          
             <span id="/2016/07/01/Appium服务关键字/" class="leancloud_visitors" data-flag-title="Appium服务关键字">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Appium-服务关键字"><a href="#Appium-服务关键字" class="headerlink" title="Appium 服务关键字"></a>Appium 服务关键字</h4><expand_table>

<table>
<thead>
<tr>
<th>关键字</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>automationName</code></td>
<td>你想使用的自动化测试引擎</td>
<td><code>Appium</code> (默认) 或 <code>Selendroid</code></td>
</tr>
<tr>
<td><code>platformName</code></td>
<td>你要测试的手机操作系统</td>
<td><code>iOS</code>, <code>Android</code>, 或 <code>FirefoxOS</code></td>
</tr>
<tr>
<td><code>platformVersion</code></td>
<td>手机操作系统版本</td>
<td>例如： <code>7.1</code>, <code>4.4</code></td>
</tr>
<tr>
<td><code>deviceName</code></td>
<td>使用的手机类型或模拟器类型</td>
<td><code>iPhone Simulator</code>, <code>iPad Simulator</code>, <code>iPhone Retina 4-inch</code>, <code>Android Emulator</code>, <code>Galaxy S4</code>, 等。在 iOS 上，这个关键字的值必须是使用 <code>instruments -s devices</code> 得到的可使用的设备名称之一。在 Android 上，这个关键字目前不起作用。</td>
</tr>
<tr>
<td><code>app</code></td>
<td><code>.ipa</code> or <code>.apk</code>文件所在的本地绝对路径或者远程路径,也可以是一个包括两者之一的<code>.zip</code>。 Appium会先尝试安装路径对应的应用在适当的真机或模拟器上。针对Android系统，如果你指定<code>app-package</code>和<code>app-activity</code>(具体见下面)的话，那么就可以不指定<code>app</code>。 <strong>会与 <code>browserName</code> 冲突</strong></td>
<td>比如<code>/abs/path/to/my.apk</code>或<code>http://myapp.com/app.ipa</code></td>
</tr>
<tr>
<td><code>browserName</code></td>
<td>需要进行自动化测试的手机 web 浏览器名称。如果是对应用进行自动化测试，这个关键字的值应为空。</td>
<td>iOS 系统上可以用 ‘Safari’ ，Android 系统上可以用 ‘Chrome’, ‘Chromium’, 或 ‘Browser’。</td>
</tr>
<tr>
<td><code>newCommandTimeout</code></td>
<td>设置命令超时时间，单位：秒。达到超时时间仍未接收到新的命令时 Appium 会假设客户端退出然后自动结束会话。</td>
<td>比如 <code>60</code></td>
</tr>
<tr>
<td><code>autoLaunch</code></td>
<td>Appium是否需要自动安装和启动应用。默认值<code>true</code></td>
<td><code>true</code>, <code>false</code></td>
</tr>
<tr>
<td><code>language</code></td>
<td>(Sim/Emu-only) 设定模拟器 ( simulator / emulator ) 的语言。</td>
<td>如： <code>fr</code></td>
</tr>
<tr>
<td><code>locale</code></td>
<td>(Sim/Emu-only) 设定模拟器 ( simulator / emulator ) 的区域设置。</td>
<td>如： <code>fr_CA</code></td>
</tr>
<tr>
<td><code>udid</code></td>
<td>连接的物理设备的唯一设备标识</td>
<td>如： <code>1ae203187fc012g</code></td>
</tr>
<tr>
<td><code>orientation</code></td>
<td>(Sim/Emu-only) 在一个设定的方向模式中开始测试</td>
<td><code>LANDSCAPE</code> (横向)  或 <code>PORTRAIT</code> (纵向)</td>
</tr>
<tr>
<td><code>autoWebview</code></td>
<td>直接转换到 WebView 上下文。 默认值 <code>false</code>、</td>
<td><code>true</code>, <code>false</code></td>
</tr>
<tr>
<td><code>noReset</code></td>
<td>不要在会话前重置应用状态。默认值<code>false</code>。</td>
<td><code>true</code>, <code>false</code></td>
</tr>
<tr>
<td><code>fullReset</code></td>
<td>(iOS) 删除整个模拟器目录。(Android) 通过卸载——而不是清空数据——来重置应用状态。在 Android 上，这也会在会话结束后自动清除被测应用。默认值 <code>false</code></td>
<td><code>true</code>, <code>false</code></td>
</tr>
</tbody>
</table>
<pre><code>&lt;!--more--&gt;
</code></pre><h4 id="Android特有"><a href="#Android特有" class="headerlink" title="Android特有"></a>Android特有</h4><expand_table>

<table>
<thead>
<tr>
<th>关键字</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>appActivity</code></td>
<td>你要从你的应用包中启动的 Android Activity 名称。它通常需要在前面添加 <code>.</code>  (如：使用<code>.MainActivity</code> 而不是 <code>MainActivity</code>)</td>
<td><code>MainActivity</code>, <code>.Settings</code></td>
</tr>
<tr>
<td><code>appPackage</code></td>
<td>你想运行的Android应用的包名</td>
<td>比如<code>com.example.android.myApp</code>, <code>com.android.settings</code></td>
</tr>
<tr>
<td><code>appWaitActivity</code></td>
<td>你想要等待启动的 Android Activity 名称</td>
<td><code>SplashActivity</code></td>
</tr>
<tr>
<td><code>deviceReadyTimeout</code></td>
<td>设置等待一个模拟器或真机准备就绪的超时时间</td>
<td><code>5</code></td>
</tr>
<tr>
<td><code>androidCoverage</code></td>
<td>用于执行测试的 instrumentation 类。作为命令 <code>adb shell am instrument -e coverage true -w</code> 的 <code>-w</code> 参数。</td>
<td><code>com.my.Pkg/com.my.Pkg.instrumentation.MyInstrumentation</code></td>
</tr>
<tr>
<td><code>enablePerformanceLogging</code></td>
<td>(仅适用于 Chrome 和 webview) 开启 Chromedriver 的性能日志。 (默认 <code>false</code>)</td>
<td><code>true</code>, <code>false</code></td>
</tr>
<tr>
<td><code>androidDeviceReadyTimeout</code></td>
<td>等待设备在启动应用后准备就绪的超时时间。以秒为单位。</td>
<td>如 <code>30</code></td>
</tr>
<tr>
<td><code>androidDeviceSocket</code></td>
<td>开发工具的 socket 名称。只有在被测应用是一个使用 Chromium 内核的浏览器时需要。 socket 会被浏览器打开，然后 Chromedriver 把它作为开发者工具来进行连接。</td>
<td>如 <code>chrome_devtools_remote</code></td>
</tr>
<tr>
<td><code>avd</code></td>
<td>需要启动的 AVD  (安卓虚拟设备) 名称。</td>
<td>如 <code>api19</code></td>
</tr>
<tr>
<td><code>avdLaunchTimeout</code></td>
<td>以毫秒为单位，等待 AVD 启动并连接到 ADB 的超时时间。(默认值 <code>120000</code>)</td>
<td><code>300000</code></td>
</tr>
<tr>
<td><code>avdReadyTimeout</code></td>
<td>以毫秒为单位，等待 AVD 完成启动动画的超时时间。(默认值 <code>120000</code>)</td>
<td><code>300000</code></td>
</tr>
<tr>
<td><code>avdArgs</code></td>
<td>启动 AVD 时需要加入的额外的参数。</td>
<td>如 <code>-netfast</code></td>
</tr>
<tr>
<td><code>useKeystore</code></td>
<td>使用一个自定义的 keystore 来对 apk 进行重签名。默认值 <code>false</code></td>
<td><code>true</code> or <code>false</code></td>
</tr>
<tr>
<td><code>keystorePath</code></td>
<td>自定义 keystore 的路径。默认： ~/.android/debug.keystore</td>
<td>如 <code>/path/to.keystore</code></td>
</tr>
<tr>
<td><code>keystorePassword</code></td>
<td>自定义 keystore 的密码。</td>
<td>如 <code>foo</code></td>
</tr>
<tr>
<td><code>keyAlias</code></td>
<td>key 的别名</td>
<td>如 <code>androiddebugkey</code></td>
</tr>
<tr>
<td><code>keyPassword</code></td>
<td>key 的密码</td>
<td>如 <code>foo</code></td>
</tr>
<tr>
<td><code>chromedriverExecutable</code></td>
<td>webdriver 可执行文件的绝对路径 (如果 Chromium 核心提供了对应的 webdriver， 应该用它代替 Appium 自带的 webdriver)</td>
<td><code>/abs/path/to/webdriver</code></td>
</tr>
<tr>
<td><code>autoWebviewTimeout</code></td>
<td>以毫秒为单位，等待 Webview 上下文激活的时间。默认值 <code>2000</code></td>
<td>如 <code>4</code></td>
</tr>
<tr>
<td><code>intentAction</code></td>
<td>用于启动 activity 的 intent action。 (默认值 <code>android.intent.action.MAIN</code>)</td>
<td>如 <code>android.intent.action.MAIN</code>, <code>android.intent.action.VIEW</code></td>
</tr>
<tr>
<td><code>intentCategory</code></td>
<td>用于启动 activity 的 intent category。 (默认值 <code>android.intent.category.LAUNCHER</code>)</td>
<td>如 <code>android.intent.category.LAUNCHER</code>, <code>android.intent.category.APP_CONTACTS</code></td>
</tr>
<tr>
<td><code>intentFlags</code></td>
<td>用于启动 activity 的标识 ( flags )  (默认值 <code>0x10200000</code>)</td>
<td>如 <code>0x10200000</code></td>
</tr>
<tr>
<td><code>optionalIntentArguments</code></td>
<td>用于启动 activity 的额外 intent 参数。请查看 <a href="http://developer.android.com/tools/help/adb.html#IntentSpec" target="_blank" rel="external">Intent 参数</a></td>
<td>如 <code>--esn &lt;EXTRA_KEY&gt;</code>, <code>--ez &lt;EXTRA_KEY&gt; &lt;EXTRA_BOOLEAN_VALUE&gt;</code></td>
</tr>
<tr>
<td><code>stopAppOnReset</code></td>
<td>在使用 adb 启动应用前停止被测应用的进程 ( process ) 。如果被测应用是被另一个应用创建的，当这个参数被设定为 false 时，允许另一个应用的进程在使用 adb 启动被测应用时继续存活。默认值 <code>true</code></td>
<td><code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td><code>unicodeKeyboard</code></td>
<td>使用 Unicode 输入法。默认值 <code>false</code></td>
<td><code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td><code>resetKeyboard</code></td>
<td>在设定了 <code>unicodeKeyboard</code> 关键字的 Unicode 测试结束后，重置输入法到原有状态。如果单独使用，将会被忽略。默认值 <code>false</code></td>
<td><code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td><code>noSign</code></td>
<td>跳过检查和对应用进行 debug 签名的步骤。只能在使用 UiAutomator 时使用，使用 selendroid 是不行。默认值 <code>false</code></td>
<td><code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td><code>ignoreUnimportantViews</code></td>
<td>调用 uiautomator 的函数 <code>setCompressedLayoutHierarchy()</code>。由于 Accessibility 命令在忽略部分元素的情况下执行速度会加快，这个关键字能加快测试执行的速度。被忽略的元素将不能够被找到，因此这个关键字同时也被实现成可以随时改变的 <em>设置 ( settings ) </em> 。默认值 <code>false</code></td>
<td><code>true</code> 或 <code>false</code></td>
</tr>
</tbody>
</table>
<h4 id="iOS特有"><a href="#iOS特有" class="headerlink" title="iOS特有"></a>iOS特有</h4><expand_table>

<table>
<thead>
<tr>
<th>关键字</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>calendarFormat</code></td>
<td>(Sim-only) 为iOS的模拟器设置日历格式</td>
<td>如 <code>gregorian</code> (公历)</td>
</tr>
<tr>
<td><code>bundleId</code></td>
<td>被测应用的 bundle ID 。用于在真实设备中启动测试，也用于使用其他需要 bundle ID 的关键字启动测试。在使用 bundle ID 在真实设备上执行测试时，你可以不提供 <code>app</code> 关键字，但你必须提供 <code>udid</code> 。</td>
<td>如 <code>io.appium.TestApp</code></td>
</tr>
<tr>
<td><code>udid</code></td>
<td>连接的真实设备的唯一设备编号 ( Unique device identifier )</td>
<td>如 <code>1ae203187fc012g</code></td>
</tr>
<tr>
<td><code>launchTimeout</code></td>
<td>以毫秒为单位，在 Appium 运行失败之前设置一个等待 instruments 的时间</td>
<td>比如： <code>20000</code></td>
</tr>
<tr>
<td><code>locationServicesEnabled</code></td>
<td>(Sim-only) 强制打开或关闭定位服务。默认值是保持当前模拟器的设定</td>
<td><code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td><code>locationServicesAuthorized</code></td>
<td>(Sim-only) 通过修改 plist 文件设定是否允许应用使用定位服务，从而避免定位服务的警告出现。默认值是保持当前模拟器的设定。请注意在使用这个关键字时，你同时需要使用 <code>bundleId</code> 关键字来发送你的应用的 bundle ID。</td>
<td><code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td><code>autoAcceptAlerts</code></td>
<td>当 iOS 的个人信息访问警告 (如 位置、联系人、图片) 出现时，自动选择接受( Accept )。默认值 <code>false</code>。</td>
<td><code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td><code>autoDismissAlerts</code></td>
<td>当 iOS 的个人信息访问警告 (如 位置、联系人、图片) 出现时，自动选择不接受( Dismiss )。默认值 <code>false</code>。</td>
<td><code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td><code>nativeInstrumentsLib</code></td>
<td>使用原生 intruments 库 (即关闭 instruments-without-delay )</td>
<td><code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td><code>nativeWebTap</code></td>
<td>(Sim-only) 在Safari中允许”真实的”，非基于 javascript 的 web 点击 (tap) 。 默认值： <code>false</code>。注意：取决于 viewport 大小/比例， 点击操作不一定能精确地点中对应的元素。</td>
<td><code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td><code>safariInitialUrl</code></td>
<td>(Sim-only) (&gt;= 8.1) 初始化 safari 的时使用的地址。默认是一个本地的欢迎页面</td>
<td>如 <code>https://www.github.com</code></td>
</tr>
<tr>
<td><code>safariAllowPopups</code></td>
<td>(Sim-only) 允许 javascript 在 Safari 中创建新窗口。默认保持模拟器当前设置。</td>
<td><code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td><code>safariIgnoreFraudWarning</code></td>
<td>(Sim-only) 阻止 Safari 显示此网站可能存在风险的警告。默认保持浏览器当前设置。</td>
<td><code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td><code>safariOpenLinksInBackground</code></td>
<td>(Sim-only) Safari 是否允许链接在新窗口打开。默认保持浏览器当前设置。</td>
<td><code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td><code>keepKeyChains</code></td>
<td>(Sim-only) 当 Appium 会话开始/结束时是否保留存放密码存放记录 (keychains)  (库(Library)/钥匙串(Keychains))</td>
<td><code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td><code>localizableStringsDir</code></td>
<td>从哪里查找本地化字符串。默认值 <code>en.lproj</code></td>
<td><code>en.lproj</code></td>
</tr>
<tr>
<td><code>processArguments</code></td>
<td>通过 instruments 传递到 AUT 的参数</td>
<td>如 <code>-myflag</code></td>
</tr>
<tr>
<td><code>interKeyDelay</code></td>
<td>以毫秒为单位，按下每一个按键之间的延迟时间。</td>
<td>如 <code>100</code></td>
</tr>
<tr>
<td><code>showIOSLog</code></td>
<td>是否在 Appium 的日志中显示设备的日志。默认值 <code>false</code></td>
<td><code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td><code>sendKeyStrategy</code></td>
<td>输入文字到文字框的策略。模拟器默认值：<code>oneByOne</code> (一个接着一个) 。真实设备默认值：<code>grouped</code> (分组输入)</td>
<td><code>oneByOne</code>, <code>grouped</code> 或 <code>setValue</code></td>
</tr>
<tr>
<td><code>screenshotWaitTimeout</code></td>
<td>以秒为单位，生成屏幕截图的最长等待时间。默认值： 10。</td>
<td>如 <code>5</code></td>
</tr>
<tr>
<td><code>waitForAppScript</code></td>
<td>用于判断 “应用是否被启动” 的 iOS 自动化脚本代码。默认情况下系统等待直到页面内容非空。结果必须是布尔类型。</td>
<td>例如 <code>true;</code>, <code>target.elements().length &gt; 0;</code>, <code>$.delay(5000); true;</code></td>
</tr>
</tbody>
</table></expand_table></expand_table></expand_table>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow000902.space/2016/06/19/MAC系统导入HTMLTestRunner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadow'S Site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/19/MAC系统导入HTMLTestRunner/" itemprop="url">MAC系统导入HTMLTestRunner</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-19T17:07:36+08:00">
                2016-06-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/19/MAC系统导入HTMLTestRunner/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2016/06/19/MAC系统导入HTMLTestRunner/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          
             <span id="/2016/06/19/MAC系统导入HTMLTestRunner/" class="leancloud_visitors" data-flag-title="MAC系统导入HTMLTestRunner">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <ol>
<li><p>下载：<a href="http://tungwaiyip.info/software/HTMLTestRunner_0_8_2/HTMLTestRunner.py">HTMLTestRunner.py</a> &amp; <a href="http://tungwaiyip.info/software/HTMLTestRunner_0_8_2/test_HTMLTestRunner.py">test_HTMLTestRunner.py</a></p>
</li>
<li><p>HTMLTestRunner放入Python环境中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo cp ~/Downloads/HTMLTestRunner.py /Library/Python/<span class="number">2.7</span>/site-packages</div><div class="line">sudo cp ~/Downloads/test_HTMLTestRunner.py /Library/Python/<span class="number">2.7</span>/site-packages</div></pre></td></tr></table></figure>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/06/19/MAC系统导入HTMLTestRunner/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </li></ol></div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow000902.space/2016/05/31/Appium踩过的坑/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadow'S Site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/31/Appium踩过的坑/" itemprop="url">Appium踩过的坑</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-31T17:55:19+08:00">
                2016-05-31
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Appium/" itemprop="url" rel="index">
                    <span itemprop="name">Appium</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/05/31/Appium踩过的坑/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2016/05/31/Appium踩过的坑/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          
             <span id="/2016/05/31/Appium踩过的坑/" class="leancloud_visitors" data-flag-title="Appium踩过的坑">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="每次运行测试，app都会重新安装"><a href="#每次运行测试，app都会重新安装" class="headerlink" title="每次运行测试，app都会重新安装"></a>每次运行测试，app都会重新安装</h5><p>1.1 在case里不要设置app的安装路径，只要设置<code>desired_caps[&#39;appPackage&#39;]</code>（app的包名）和<code>desired_caps[&#39;appActivity&#39;]</code>（启动时的activity）即可<br>1.2 在启动appium的时候，加上<code>--no-reset</code>参数</p>
<pre><code>&lt;!--more--&gt;
</code></pre><h5 id="等待操作"><a href="#等待操作" class="headerlink" title="等待操作"></a>等待操作</h5><p>2.1 尽量不要使用sleep方法<br>2.2 使用<code>implicitly_wait(1000)</code>方法，<strong>隐性等待/如果一个无素没有出现都会默认等待你所设定的时间，直到超时或者元素出现</strong><br>2.3 <code>WebDriverWait()</code>，同样也是 webdirver 提供的方法。<strong>在设置时间内，默认每隔一段时间检测一次当前。页面元素是否存在，如果超过设置时间检测不到则抛出异常。</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</div><div class="line">element = WebDriverWait(driver, <span class="number">10</span>).until(<span class="keyword">lambda</span> x: x.find_element_by_id(“someId”))</div><div class="line">is_disappeared = WebDriverWait(driver, <span class="number">30</span>, <span class="number">1</span>, (ElementNotVisibleException)).</div><div class="line">until_not(<span class="keyword">lambda</span> x: x.find_element_by_id(“someId”).is_displayed())</div></pre></td></tr></table></figure></p>
<h5 id="元素无法定位"><a href="#元素无法定位" class="headerlink" title="元素无法定位"></a>元素无法定位</h5><p>3.1 使用元素坐标点定位，有两种点击方法，一种是<code>tap([(100, 20), (100, 60), (100, 100)], 500)</code>，还有一种是使用<code>swipe(630, 320, 630, 320, 500)</code>方法<br>3.2 使用<code>class_name</code>来定位：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">checkboxes = self.driver.find_elements_by_class_name(<span class="string">'android.widget.CheckBox'</span>)     <span class="comment"># 获取页面class_name为android.widget.CheckBox的所有元素，形成一个list</span></div><div class="line">checkboxes[<span class="number">0</span>].click()                                                               <span class="comment"># 指定元素进行操作</span></div><div class="line">checkboxes[<span class="number">1</span>].click()                                                               <span class="comment"># 指定元素进行操作</span></div></pre></td></tr></table></figure></p>
<h5 id="长按操作"><a href="#长按操作" class="headerlink" title="长按操作"></a>长按操作</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">action1 = TouchAction(self.driver)</div><div class="line">el_3 = self.driver.find_element_by_id(<span class="string">'cn.highing.hichat:id/topic_voice_send'</span>)</div><div class="line">action1.long_press(el_3).wait(<span class="number">10000</span>).perform()</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">action2 = TouchAction(self.driver)</div><div class="line">el_3 = self.driver.find_element_by_id(<span class="string">'cn.highing.hichat:id/topic_voice_send'</span>)</div><div class="line">action2.moveTo(el_3).release().perform()</div></pre></td></tr></table></figure>
<h5 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> self.driver.current_activity == <span class="string">".ui.GuideActivity"</span>:</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        做x这件事</div><div class="line">    <span class="keyword">except</span>:</div><div class="line">        x失败的话，做这里的事</div></pre></td></tr></table></figure>
<h5 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h5><h5 id="appium运行结果报告"><a href="#appium运行结果报告" class="headerlink" title="appium运行结果报告"></a>appium运行结果报告</h5><h5 id="appium设置不使用appium只带的输入法"><a href="#appium设置不使用appium只带的输入法" class="headerlink" title="appium设置不使用appium只带的输入法"></a><code>appium</code>设置不使用<code>appium</code>只带的输入法</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">des.setCapability(<span class="string">"unicodeKeyboard"</span>, <span class="string">"True"</span>)</div><div class="line">des.setCapability(<span class="string">"resetKeyboard"</span>, <span class="string">"True"</span>)</div></pre></td></tr></table></figure>
<h5 id="一定不要搞错启动activity"><a href="#一定不要搞错启动activity" class="headerlink" title="一定不要搞错启动activity"></a>一定不要搞错启动<code>activity</code></h5><p>启动时的<code>activity</code>一般都是叫<code>SplashActivity</code><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">setUp</span><span class="params">(self)</span>:</span></div><div class="line">    desired_caps = &#123;&#125;</div><div class="line">    desired_caps[<span class="string">'platformName'</span>] = <span class="string">'Android'</span></div><div class="line">    desired_caps[<span class="string">'platformVersion'</span>] = <span class="string">'6.0'</span></div><div class="line">    desired_caps[<span class="string">'deviceName'</span>] = <span class="string">'Nexus 5'</span></div><div class="line">    desired_caps[<span class="string">'appPackage'</span>] = <span class="string">'com.souche.fengche'</span>  <span class="comment"># 被测App的包名</span></div><div class="line">    desired_caps[<span class="string">'appActivity'</span>] = <span class="string">'com.souche.fengche.ui.activity.SplashActivity'</span>  <span class="comment"># 启动时的Activity</span></div><div class="line">    <span class="comment"># desired_caps['app'] = PATH('/Users/taoyi/Downloads/dasouche.apk')</span></div></pre></td></tr></table></figure></p>
<h5 id="拖动操作解析"><a href="#拖动操作解析" class="headerlink" title="拖动操作解析"></a>拖动操作解析</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DragAndDrop</span><span class="params">(By dragElement, By dropElement)</span></span></div></pre></td></tr></table></figure>
<p><code>dragElement</code> <em>起点元素，不要用输入框，尽量用不可点击的显示型元素</em><br><code>dropElement</code> <em>终点元素，不要用输入框，尽量用不可点击的显示型元素</em></p>
<h5 id="滑动操作"><a href="#滑动操作" class="headerlink" title="滑动操作"></a>滑动操作</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">swipe_to_up</span><span class="params">(self)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    从下往上滑动</div><div class="line">    :return: None</div><div class="line">    """</div><div class="line">    window_size = self.get_size()</div><div class="line">    width = window_size.get(<span class="string">"width"</span>)</div><div class="line">    height = window_size.get(<span class="string">"height"</span>)</div><div class="line">    self.driver.swipe(width / <span class="number">2</span>, height * <span class="number">3</span> / <span class="number">4</span>, width / <span class="number">2</span>, height / <span class="number">4</span>, <span class="number">500</span>)</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SwipeToUp</span><span class="params">(<span class="keyword">int</span> during)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> width = driver.manage().window().getSize().width;</div><div class="line">	<span class="keyword">int</span> height = driver.manage().window().getSize().height;</div><div class="line">	driver.swipe(width / <span class="number">2</span>, height * <span class="number">3</span> / <span class="number">4</span>, width / <span class="number">2</span>, height / <span class="number">4</span>, during);</div><div class="line">	logger.info(<span class="string">"向上滑动屏幕的3/4"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="Appium（客户端版）解决每次运行Android，都安装Appium-Setting和Unlock的方法"><a href="#Appium（客户端版）解决每次运行Android，都安装Appium-Setting和Unlock的方法" class="headerlink" title="Appium（客户端版）解决每次运行Android，都安装Appium Setting和Unlock的方法"></a><code>Appium</code>（客户端版）解决每次运行<code>Android</code>，都安装<code>Appium Setting</code>和<code>Unlock</code>的方法</h5><p>同 “Appium的几点总结” 的<code>六</code><br><code>Appium Setting</code>安装包路径：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/local/lib/node_modules/appium/node_modules/appium-android-driver/node_modules/io.appium.settings/bin/settings_apk-debug.apk</div></pre></td></tr></table></figure></p>
<p><code>Unlock</code>安装包路径：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/local/lib/node_modules/appium/node_modules/appium-android-driver/node_modules/appium-unlock/bin/unlock_apk-debug.apk</div></pre></td></tr></table></figure></p>
<p>解决方法，修改下面两个文件<br>文件1地址：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/<span class="built_in">local</span>/lib/node_modules/appium/node_modules/appium-android-driver/lib/android-helpers.js</div></pre></td></tr></table></figure></p>
<p>文件位置：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">helpers.initDevice = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">adb, opts</span>) </span>&#123;</div><div class="line">  <span class="keyword">await</span> adb.waitForDevice();</div><div class="line"></div><div class="line">  <span class="keyword">await</span> helpers.ensureDeviceLocale(adb, opts.language, opts.locale);</div><div class="line">  <span class="keyword">await</span> adb.startLogcat();</div><div class="line">  <span class="keyword">let</span> defaultIME;</div><div class="line">  <span class="keyword">if</span> (opts.unicodeKeyboard) &#123;</div><div class="line">    defaultIME = <span class="keyword">await</span> helpers.initUnicodeKeyboard(adb);</div><div class="line">  &#125;</div><div class="line"><span class="comment">//  await helpers.pushSettingsApp(adb);                                         # 注释掉</span></div><div class="line"><span class="comment">//  await helpers.pushUnlock(adb);                                              # 注释掉</span></div><div class="line">  <span class="keyword">return</span> defaultIME;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>文件2地址：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/<span class="built_in">local</span>/lib/node_modules/appium/node_modules/appium-android-driver/build/lib/android-helpers.js</div></pre></td></tr></table></figure></p>
<p>文件位置：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">helpers.initDevice = <span class="function"><span class="keyword">function</span> <span class="title">callee$0$0</span>(<span class="params">adb, opts</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> defaultIME;</div><div class="line">  <span class="keyword">return</span> _regeneratorRuntime.async(<span class="function"><span class="keyword">function</span> <span class="title">callee$0$0$</span>(<span class="params">context$1$0</span>) </span>&#123;</div><div class="line">    <span class="keyword">while</span> (<span class="number">1</span>) <span class="keyword">switch</span> (context$<span class="number">1</span>$<span class="number">0.</span>prev = context$<span class="number">1</span>$<span class="number">0.</span>next) &#123;</div><div class="line">      <span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">        context$<span class="number">1</span>$<span class="number">0.</span>next = <span class="number">2</span>;</div><div class="line">        <span class="keyword">return</span> _regeneratorRuntime.awrap(adb.waitForDevice());</div><div class="line"></div><div class="line">      <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">        context$<span class="number">1</span>$<span class="number">0.</span>next = <span class="number">4</span>;</div><div class="line">        <span class="keyword">return</span> _regeneratorRuntime.awrap(helpers.ensureDeviceLocale(adb, opts.language, opts.locale));</div><div class="line"></div><div class="line">      <span class="keyword">case</span> <span class="number">4</span>:</div><div class="line">        context$<span class="number">1</span>$<span class="number">0.</span>next = <span class="number">6</span>;</div><div class="line">        <span class="keyword">return</span> _regeneratorRuntime.awrap(adb.startLogcat());</div><div class="line"></div><div class="line">      <span class="keyword">case</span> <span class="number">6</span>:</div><div class="line">        defaultIME = <span class="literal">undefined</span>;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (!opts.unicodeKeyboard) &#123;</div><div class="line">          context$<span class="number">1</span>$<span class="number">0.</span>next = <span class="number">11</span>;</div><div class="line">          <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        context$<span class="number">1</span>$<span class="number">0.</span>next = <span class="number">10</span>;</div><div class="line">        <span class="keyword">return</span> _regeneratorRuntime.awrap(helpers.initUnicodeKeyboard(adb));</div><div class="line"></div><div class="line">      <span class="keyword">case</span> <span class="number">10</span>:</div><div class="line">        defaultIME = context$<span class="number">1</span>$<span class="number">0.</span>sent;</div><div class="line"></div><div class="line">      <span class="keyword">case</span> <span class="number">11</span>:</div><div class="line">        context$<span class="number">1</span>$<span class="number">0.</span>next = <span class="number">13</span>;</div><div class="line">        <span class="keyword">return</span> _regeneratorRuntime.awrap(helpers.pushSettingsApp(adb));</div><div class="line">        <span class="comment">// return context$1$0.abrupt('return', defaultIME);                     # 添加新的 return，相当于跳过该步骤</span></div><div class="line"></div><div class="line">      <span class="keyword">case</span> <span class="number">13</span>:</div><div class="line">        context$<span class="number">1</span>$<span class="number">0.</span>next = <span class="number">15</span>;</div><div class="line">        <span class="keyword">return</span> _regeneratorRuntime.awrap(helpers.pushUnlock(adb));</div><div class="line">        <span class="comment">// return context$1$0.abrupt('return', defaultIME);                     # 添加新的 return，相当于跳过该步骤</span></div><div class="line"></div><div class="line">      <span class="keyword">case</span> <span class="number">15</span>:</div><div class="line">        <span class="keyword">return</span> context$<span class="number">1</span>$<span class="number">0.</span>abrupt(<span class="string">'return'</span>, defaultIME);</div><div class="line"></div><div class="line">      <span class="keyword">case</span> <span class="number">16</span>:</div><div class="line">      <span class="keyword">case</span> <span class="string">'end'</span>:</div><div class="line">        <span class="keyword">return</span> context$<span class="number">1</span>$<span class="number">0.</span>stop();</div><div class="line">    &#125;</div><div class="line">  &#125;, <span class="literal">null</span>, <span class="keyword">this</span>);</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow000902.space/2016/05/26/ssh免密码登录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadow'S Site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/26/ssh免密码登录/" itemprop="url">ssh免密码登录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-26T01:32:43+08:00">
                2016-05-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SSH/" itemprop="url" rel="index">
                    <span itemprop="name">SSH</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/05/26/ssh免密码登录/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2016/05/26/ssh免密码登录/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          
             <span id="/2016/05/26/ssh免密码登录/" class="leancloud_visitors" data-flag-title="ssh免密码登录">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>其实不能说是免密码登录，你在第一次登录进账户的时候还是需要密码的。但是再用该受信任用户身份访问其他节点的时候可以让你不用输入密码。也就是一次验证，处处通行。真正的术语叫做公钥登录。</p>
<blockquote>
<p>所谓”公钥登录”，原理很简单，就是用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段随机字符串，用户用自己的私钥加密后，再发回来。远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。这种方法要求用户必须提供自己的公钥。如果没有现成的，可以直接用ssh-keygen生成一个。</p>
</blockquote>
<pre><code>&lt;!--more--&gt;
</code></pre><p>具体的原理相对来说就比较复杂了。参见阮一峰的这篇博客<a href="http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html" target="_blank" rel="external">SSH原理与运用(一):远程登录</a>。</p>
<p>免密码登录：<br>生成本用户的密钥，再把公钥存成authorized_key文件。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh user@host <span class="string">'mkdir -p .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys'</span> &lt; ~/.ssh/id_rsa.pub</div></pre></td></tr></table></figure></p>
<p>过程是：</p>
<ol>
<li><code>ssh user@host</code>，表示登录远程主机,当然远程用户名和本地一致的时候可以省略，直接使用<code>ssh host</code>。</li>
<li><code>mkdir -p .ssh</code>，如果用户主目录中的.ssh目录不存在，就创建一个。</li>
<li><code>&#39;cat &gt;&gt; .ssh/authorized_keys&#39; &lt; ~/.ssh/id_rsa.pub</code>的作用，是将本地的公钥文件<code>~/.ssh/id_rsa.pub</code>，重定向追加到远程文件authorized_key的末尾。</li>
</ol>
<p>写入authorized_keys文件后，公钥登录的设置就完成了。</p>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow000902.space/2016/05/26/git常用命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadow'S Site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/26/git常用命令/" itemprop="url">git常用命令</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-26T01:09:12+08:00">
                2016-05-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Git/" itemprop="url" rel="index">
                    <span itemprop="name">Git</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/05/26/git常用命令/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2016/05/26/git常用命令/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          
             <span id="/2016/05/26/git常用命令/" class="leancloud_visitors" data-flag-title="git常用命令">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="初始配置"><a href="#初始配置" class="headerlink" title="初始配置"></a>初始配置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkdir d:\git_<span class="built_in">test</span></div><div class="line">git config -global user.name <span class="string">"Your name"</span></div><div class="line">git config -global user.email <span class="string">"you@example.com"</span></div></pre></td></tr></table></figure>
<pre><code>&lt;!--more--&gt;
</code></pre><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">git init                        <span class="comment"># 初始化当前所在目录的这个项目</span></div><div class="line">git status                      <span class="comment"># 查看项目状态</span></div><div class="line">git add .                       <span class="comment"># 给目前的项目制作一个快照snapshot（快照只是登记留名，快照不等于记录在案，git管快照叫做索引index）</span></div><div class="line">git commit                      <span class="comment"># 将快照里登记的内容永久写入git仓库</span></div><div class="line">git commit <span class="_">-a</span>                   <span class="comment"># 直接提交所有修改，省去了``git add``和``git diff``和``git commit``的工序</span></div><div class="line">                                <span class="comment"># 无法把新增文件或文件夹加入进来，所以，如果你新增了文件或文件夹，那么就要老老实实的先``git add ..``，再``git commit``</span></div><div class="line">git push                        <span class="comment"># 把更新推送到远程分支</span></div><div class="line">git <span class="built_in">log</span> -p                      <span class="comment"># git不但会给出开发日志，而且会显示每个开发版本的代码区别所在</span></div></pre></td></tr></table></figure>
<p>总结：先<code>git add</code>修改过的文件，再<code>git diff</code>并<code>git status</code>查看确认，然后<code>git commit</code>提交，然后输入开发日志，然后<code>git push</code>推送到远程分支，最后<code>git log</code>再次确认。</p>
<h4 id="创建分支"><a href="#创建分支" class="headerlink" title="创建分支"></a>创建分支</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">git branch                      <span class="comment"># 查看分支列表</span></div><div class="line">git branch experiment           <span class="comment"># 创建experiment分支</span></div><div class="line">git checkout experiment         <span class="comment"># 切换到experiment分支</span></div><div class="line">git commit <span class="_">-a</span>                   <span class="comment"># 在分支上提交工作</span></div><div class="line">git checkout master             <span class="comment"># 切换到主干道</span></div><div class="line">git merge experiment            <span class="comment"># 合并分支到主干道</span></div><div class="line">git branch <span class="_">-d</span> experiment        <span class="comment"># -d，表示“在分支已经合并到主干后删除分支”。如果使用大写的-D的话，则表示“不论如何都删除分支”</span></div></pre></td></tr></table></figure>
<h4 id="撤销一次已经提交到Github的内容"><a href="#撤销一次已经提交到Github的内容" class="headerlink" title="撤销一次已经提交到Github的内容"></a>撤销一次已经提交到Github的内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git reset --hard HEAD~1</div><div class="line">git push --force</div></pre></td></tr></table></figure>
<p>该命令执行后，会隐藏掉Github库中的被撤销掉的记录，但是指定到该被隐藏掉的记录来访问，依旧可以访问。</p>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow000902.space/2016/05/19/Robot-Framework测试用例编写规范/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadow'S Site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/19/Robot-Framework测试用例编写规范/" itemprop="url">Robot-Framework测试用例编写规范</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-19T21:59:39+08:00">
                2016-05-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Robot-Framework/" itemprop="url" rel="index">
                    <span itemprop="name">Robot-Framework</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/05/19/Robot-Framework测试用例编写规范/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2016/05/19/Robot-Framework测试用例编写规范/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          
             <span id="/2016/05/19/Robot-Framework测试用例编写规范/" class="leancloud_visitors" data-flag-title="Robot-Framework测试用例编写规范">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h4><h5 id="测试套件的命名"><a href="#测试套件的命名" class="headerlink" title="测试套件的命名"></a>测试套件的命名</h5><p>Robotframework 的套件名称是直接从文件/目录的名字转换来的。文件的后缀名被去掉了而且下划线会被转换成空格，如果你的用到的单词都是小写的，那么开头字母会被转换成大写的。<br>比如 login_test.txt 会被转换成 Login Test, DHCP_and_DNS 会被转换成 DHCP and DNS。</p>
<pre><code>&lt;!--more--&gt;
</code></pre><h5 id="测试用例的命名"><a href="#测试用例的命名" class="headerlink" title="测试用例的命名"></a>测试用例的命名</h5><p>表达你需要做什么。</p>
<h5 id="关键词命名"><a href="#关键词命名" class="headerlink" title="关键词命名"></a>关键词命名</h5><p>表达这个关键词干了什么，而不是如何去做。<br>关键词应该是非常不同的抽象层次（比如，「输入字符」或者「用户登录到系统」）。</p>
<h5 id="生成和分解的命名"><a href="#生成和分解的命名" class="headerlink" title="生成和分解的命名"></a>生成和分解的命名</h5><p>用名称来描述这个步骤完成了什么。<br>如果生成或者分解包含了不相关的步骤，那么可以接受更抽象一点的名称<br>    4.1 在名称中列举步骤是一个重复化和维护的问题（比如：登入系统，添加用户，激活警报和检查平衡）。<br>    4.2 或许需要用到一些通用一些的名称比如「初始化系统」<br>每个用到这几个测试用例的人都需要明白这几个生成或者分解动作是干什么的</p>
<h4 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h4><h5 id="测试套件的结构"><a href="#测试套件的结构" class="headerlink" title="测试套件的结构"></a>测试套件的结构</h5><p>在套件中的用例应该是互相相关的。<br>    1.1 如果测试用例拥有同样的生成或者分解部分，那么他们应该是属于一个套件的。<br>    1.2 除非是数据驱动的，在一个套件中不要放10个以上的测试用例。<br>    1.3 测试用例应该是独立的，用生成和分解来初始化他们。<br>    1.4 如果测试用例之间无法避免地相关联。比如说，它可能是因为把所有的用例独立出来要化太多的时间在初始化上。<br>        相关联的测试用例就那么几个（最多4到5个）。<br>        下一个用例是用来验证上一个用例的结果的。（用${PREV TEST STATUS} 这个变量）。</p>
<h5 id="测试用例的结构"><a href="#测试用例的结构" class="headerlink" title="测试用例的结构"></a>测试用例的结构</h5><pre><code>2.1 测试用例应该是易懂的：一个测试用例只测试一件事情。
2.2 选择一个合适的抽象层面：一致地使用抽象水平（单一水平的抽象原则）；只包含与测试相关的信息。
2.3 用例可以分为两种：工作流程的测试用例；数据驱动的测试用例。
</code></pre><h4 id="用例"><a href="#用例" class="headerlink" title="用例"></a>用例</h4><h5 id="工作流程的测试用例"><a href="#工作流程的测试用例" class="headerlink" title="工作流程的测试用例"></a>工作流程的测试用例</h5><pre><code>1.1 通常来说有以下这些部分：
</code></pre><p>◦前置条件（可选，通常在生成部分）<br>◦动作 （对被测系统执行一些动作）<br>◦验证 （必须有一个验证的部分！）<br>◦清理 （可选，通常在分解部分，以保证用例已经执行完毕）</p>
<pre><code>1.2 关键词是用来描述这个用例做了什么。
</code></pre><p>◦用清晰的关键词名称和合适的抽象层次。<br>◦应该包含足够的信息使得手动执行可以启动。<br>◦应该从来不需要文档或者沟通来告诉你这个用例在做什么。</p>
<pre><code>1.3 不同的用例可以有不同的抽象层次。
</code></pre><p>◦详细的功能测试是更精确的。<br>◦端到端的测试可以是一个很高的抽象层次。<br>◦一个测试用例应该只使用一种抽象层次。</p>
<pre><code>1.4 不同的风格
</code></pre><p>◦对于底层的详细测试和集成测试用例来讲应该是更关注技术细节。<br>◦「可执行定义」来扮演需求。<br>◦使用领域中的语言（术语？）。<br>◦所有人（包括顾客和产品负责人）都应该可以看明白。</p>
<pre><code>1.5 不复杂的逻辑
</code></pre><p>◦不用 for 循环或者 if/else 判断结构。<br>◦小心给变量赋值。<br>◦测试用例不应该看起来像脚本一样难读。</p>
<pre><code>1.6 最多10步，越少越好。
</code></pre><h5 id="数据驱动的测试用例"><a href="#数据驱动的测试用例" class="headerlink" title="数据驱动的测试用例"></a>数据驱动的测试用例</h5><pre><code>2.1 每个测试用例有一个高层次的关键词。
</code></pre><p>•不同的参数创建不同的测试。<br>•关键词通常包含了与同一个用例文件中工作流程测试用例中描述的流程类似的流程。</p>
<pre><code>2.2 推荐使用测试模板功能。
</code></pre><p>•不需要多次地去重复关键词。<br>•在一个用例里去测试更容易去测试多种变化。</p>
<pre><code>2.3 如果可能，推荐在列头部命名。
2.4 如果真的需要很多测试用例，考虑把他们做成依赖于外部的模型。
</code></pre><h4 id="用户自定义关键词"><a href="#用户自定义关键词" class="headerlink" title="用户自定义关键词"></a>用户自定义关键词</h4><ol>
<li><p>应该容易让人理解<br>◦和工作流程测试用例一样的标准。</p>
</li>
<li><p>不同的抽象层次。</p>
</li>
<li>可以包含一些编程逻辑（for 循环，if 判断这些）<br>◦特别对于底层的的关键词。<br>◦复杂的逻辑应该放在库里而不是用户定义的关键词里。</li>
</ol>
<h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><p>•封装常的或者复杂的值。<br>•从命令行传递信息。<br>•在关键词之间传递信息。</p>
<h5 id="变量的命名"><a href="#变量的命名" class="headerlink" title="变量的命名"></a>变量的命名</h5><pre><code>1.1 清楚，但是不要太长。
1.2 可以在变量表格里用注释来说明。
1.3 对每个使用场景保持一致：
</code></pre><p>•小写的本地变量只在当前的用例或者关键词中可用。<br>•全局变量或者套件，用例级别的变量需要大写。<br>•空格或者下划线都可以用来分割变量中的词。</p>
<pre><code>1.4 推荐在变量表格中也把设置成动态的变量也列出来。
</code></pre><p>•用Set Global/Suite/Test variable关键词来命名变量。<br>•变量的初始值应该可以解释真实的值应该是什么。</p>
<h5 id="传递和返回值"><a href="#传递和返回值" class="headerlink" title="传递和返回值"></a>传递和返回值</h5><pre><code>2.1 通常的方式是通过关键词来返回值，把他们赋给变量，然后传递给其他关键词的参数。
</code></pre><p>•清楚易懂地遵循这个方法。<br>•看起来像是编程。</p>
<pre><code>2.2 备选方案是使用Set Test Variable关键词
</code></pre><p>•不需要在测试用例层面上有什么编程风格。<br>•要遵循起来比较复杂，很难重用关键词。<br>•避免以下这种测试用例层级。</p>
<h5 id="避免使用sleeping"><a href="#避免使用sleeping" class="headerlink" title="避免使用sleeping"></a>避免使用sleeping</h5><pre><code>3.1 Sleeping 是非常脆弱的。
3.2 平均来说，安全的边界值会使得 Sleeping 很长时间。
3.3 用包含了一定的动作触发的关键词来替代 Sleeping
</code></pre><p>•等待需要有一个超时的值。<br>•关键词可以用 Wait Until… 来开头<br>•可能的话用<a href="https://code.google.com/p/robotframework/wiki/BuiltInLibrary" target="_blank" rel="external">内置的关键词</a> Wait Until Keyword Succeeds来包装其他关键词。</p>
<pre><code>3.4 有时候 Sleeping 是一种最简单的解决方式
</code></pre><p>•请总是小心使用，不要在经常用到的自定义关键词或者其他关键词中用 Sleeping。</p>
<pre><code>3.5 在 Debugging 的时候 Sleeping 用来暂停测试执行还是很有用的。
</code></pre><p>•虽然 <a href="https://code.google.com/p/robotframework/wiki/DialogsLibrary" target="_blank" rel="external">DialogsLibrary</a> 通常更适合用来干这个。</p>
<p>作者：抽屉(chouti)<br>链接：<a href="https://zhuanlan.zhihu.com/p/19565445" target="_blank" rel="external">https://zhuanlan.zhihu.com/p/19565445</a><br>来源：知乎</p>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="shadow">
          <p class="site-author-name" itemprop="name">shadow</p>
           
              <p class="site-description motion-element" itemprop="description">谁当声震人间，必长久深自缄默。谁当划破闪电，必长久如云漂泊。</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">66</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">45</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">54</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/shadow000902" target="_blank" title="github">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/1716962871" target="_blank" title="weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/shadow000902" target="_blank" title="twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://facebook.com/shadow000902" target="_blank" title="facebook">
                  
                    <i class="fa fa-fw fa-facebook"></i>
                  
                  facebook
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">shadow</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

<span id="busuanzi_container_site_uv">
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;您是第 <span id="busuanzi_value_site_uv"></span> 位访客
</span>

<span id="busuanzi_container_site_pv">
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;您是第 <span id="busuanzi_value_site_pv"></span> 次访问者
</span>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	

		<script type="text/javascript">
		_hcwp = window._hcwp || [];

		_hcwp.push({widget:"Bloggerstream", widget_id: 90954, selector:".hc-comment-count", label: "{\%COUNT%\}" });

		

		(function() {
		if("HC_LOAD_INIT" in window)return;
		HC_LOAD_INIT = true;
		var lang = (navigator.language || navigator.systemLanguage || navigator.userLanguage || "en").substr(0, 2).toLowerCase();
		var hcc = document.createElement("script"); hcc.type = "text/javascript"; hcc.async = true;
		hcc.src = ("https:" == document.location.protocol ? "https" : "http")+"://w.hypercomments.com/widget/hc/90954/"+lang+"/widget.js";
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(hcc, s.nextSibling);
		})();
		</script>

	












  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.1"></script>



  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("qjdKXm0RH80J6HWCj1X3DREC-gzGzoHsz", "4rSep9EijQDvdmVi5cPCzgxz");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  

  

</body>
</html>