<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Monaco:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css"><script src="/lib/pace/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"shadow000902.space",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="List排序123456cars &#x3D; [&#39;bmw&#39;, &#39;audi&#39;, &#39;toyota&#39;, &#39;subaru&#39;]print(sorted(cars))                             # 临时性字母正序排列print(sorted(cars, reverse&#x3D;True)                # 临时性字母倒叙排列cars.sort()"><meta property="og:type" content="article"><meta property="og:title" content="Python基础知识整理"><meta property="og:url" content="http://shadow000902.space/2018/02/14/2018-02-14-Python-basics/index.html"><meta property="og:site_name" content="Shadow&#39;S Site"><meta property="og:description" content="List排序123456cars &#x3D; [&#39;bmw&#39;, &#39;audi&#39;, &#39;toyota&#39;, &#39;subaru&#39;]print(sorted(cars))                             # 临时性字母正序排列print(sorted(cars, reverse&#x3D;True)                # 临时性字母倒叙排列cars.sort()"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2018-02-14T10:40:37.000Z"><meta property="article:modified_time" content="2022-09-19T17:03:22.000Z"><meta property="article:author" content="shadow"><meta property="article:tag" content="python"><meta name="twitter:card" content="summary"><link rel="canonical" href="http://shadow000902.space/2018/02/14/2018-02-14-Python-basics/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>Python基础知识整理 | Shadow'S Site</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-18711495-2"></script><script>function gtag(){dataLayer.push(arguments)}CONFIG.hostname===location.hostname&&(window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-18711495-2"))</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b2e7edb34a402c6fa45e71e2a2456518";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Shadow'S Site" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Shadow'S Site</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">心之所愿，无所不至！</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a href="https://github.com/shadow000902" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://shadow000902.space/2018/02/14/2018-02-14-Python-basics/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="shadow"><meta itemprop="description" content="Nothing is Impossible for a Willing Heart!"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Shadow'S Site"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Python基础知识整理</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-02-14 18:40:37" itemprop="dateCreated datePublished" datetime="2018-02-14T18:40:37+08:00">2018-02-14</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-20 01:03:22" itemprop="dateModified" datetime="2022-09-20T01:03:22+08:00">2022-09-20</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a> </span></span><span id="/2018/02/14/2018-02-14-Python-basics/" class="post-meta-item leancloud_visitors" data-flag-title="Python基础知识整理" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/2018/02/14/2018-02-14-Python-basics/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2018/02/14/2018-02-14-Python-basics/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>24k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>22 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><h4 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cars = [<span class="string">'bmw'</span>, <span class="string">'audi'</span>, <span class="string">'toyota'</span>, <span class="string">'subaru'</span>]</span><br><span class="line">print(sorted(cars))                             <span class="comment"># 临时性字母正序排列</span></span><br><span class="line">print(sorted(cars, reverse=<span class="literal">True</span>)                <span class="comment"># 临时性字母倒叙排列</span></span><br><span class="line">cars.sort()                                     <span class="comment"># 永久性字母正序排列</span></span><br><span class="line">cars.sort(reverse=<span class="literal">True</span>)                         <span class="comment"># 永久性字母倒叙排列</span></span><br><span class="line">print(cars)                                     <span class="comment"># 默认排序</span></span><br></pre></td></tr></table></figure><a id="more"></a><h4 id="访问list元素"><a href="#访问list元素" class="headerlink" title="访问list元素"></a>访问list元素</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cars = [<span class="string">'bmw'</span>, <span class="string">'audi'</span>, <span class="string">'toyota'</span>, <span class="string">'subaru'</span>]</span><br><span class="line">print(cars[<span class="number">0</span>])                                  <span class="comment"># 访问第一个元素</span></span><br><span class="line"><span class="comment"># 当访问的list长度总是会变的情况下，可以使用这种方式访问list最后一个元素</span></span><br><span class="line">print(cars[<span class="number">-1</span>])                                 <span class="comment"># 访问倒数第一个元素，即list最后一个元素</span></span><br></pre></td></tr></table></figure><h4 id="增删元素『重要』"><a href="#增删元素『重要』" class="headerlink" title="增删元素『重要』"></a><strong>增删元素</strong>『重要』</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">'honda'</span>, <span class="string">'yamaha'</span>, <span class="string">'suzuki'</span>, <span class="string">'ducati'</span>]</span><br><span class="line">too_expensive = <span class="string">'ducati'</span></span><br><span class="line">motorcycles.remove(too_expensive)               <span class="comment"># 根据值删除元素</span></span><br><span class="line">motorcycles.append(too_expensive)               <span class="comment"># 增加元素，元素增加到末尾</span></span><br><span class="line">motorcycles.insert(<span class="number">0</span>, too_expensive)            <span class="comment"># 指定位置插入元素</span></span><br><span class="line"><span class="keyword">del</span> motorcycles[<span class="number">1</span>]                              <span class="comment"># 删除指定位置元素</span></span><br><span class="line">motorcycles.pop()                               <span class="comment"># 取出list中的最后一个元素</span></span><br><span class="line">print(motorcycles)</span><br></pre></td></tr></table></figure><h4 id="获取list长度"><a href="#获取list长度" class="headerlink" title="获取list长度"></a>获取list长度</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">len(cars)</span><br></pre></td></tr></table></figure><h4 id="复制list"><a href="#复制list" class="headerlink" title="复制list"></a>复制list</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">my_foods = [<span class="string">'pizza'</span>, <span class="string">'falafel'</span>, <span class="string">'carrot cake'</span>] </span><br><span class="line">friend_foods = my_foods[:]                      <span class="comment"># 复制整个列表以 [:] 来表示</span></span><br></pre></td></tr></table></figure><h4 id="检查特定值是否在list中"><a href="#检查特定值是否在list中" class="headerlink" title="检查特定值是否在list中"></a>检查特定值是否在list中</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">banned_users = [<span class="string">'andrew'</span>, <span class="string">'carolina'</span>, <span class="string">'david'</span>]</span><br><span class="line">user1 = <span class="string">'andrew'</span></span><br><span class="line">user2 = <span class="string">'and'</span></span><br><span class="line">print(user1 <span class="keyword">in</span> banned_users)                    <span class="comment"># 返回true</span></span><br><span class="line">print(user2 <span class="keyword">not</span> <span class="keyword">in</span> banned_users)                <span class="comment"># 返回true</span></span><br><span class="line">print(user1 <span class="keyword">not</span> <span class="keyword">in</span> banned_users)                <span class="comment"># 返回false</span></span><br><span class="line">print(user2 <span class="keyword">in</span> banned_users)                    <span class="comment"># 返回false</span></span><br></pre></td></tr></table></figure><h4 id="在list中检索值"><a href="#在list中检索值" class="headerlink" title="在list中检索值"></a>在list中检索值</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a_list = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'new'</span>, <span class="string">'mpilgrim'</span>, <span class="string">'new'</span>]</span><br><span class="line">&gt;&gt;&gt; a_list.count(<span class="string">'new'</span>)       ①</span><br><span class="line">2</span><br><span class="line">&gt;&gt;&gt; <span class="string">'new'</span> <span class="keyword">in</span> a_list           ②</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; a_list.index(<span class="string">'mpilgrim'</span>)  ③</span><br><span class="line">3</span><br></pre></td></tr></table></figure><h4 id="if判断条件为list注意点"><a href="#if判断条件为list注意点" class="headerlink" title="if判断条件为list注意点"></a><code>if</code>判断条件为<code>list</code>注意点</h4><p>在判断条件为<code>list</code>时，如果<code>list</code>为空，即记过为<code>false</code>，只有在<code>list</code>有一个元素时，才为<code>true</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">requested_toppings = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> requested_toppings:</span><br><span class="line">    print(<span class="string">'requested_toppings not empty'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'requested_toppings is empty'</span>)</span><br></pre></td></tr></table></figure><p>这里实际执行的就是<code>else</code>中的语句，因为<code>requested_toppings</code>是空的，返回的<code>false</code>。</p><h4 id="多个list判断"><a href="#多个list判断" class="headerlink" title="多个list判断"></a>多个<code>list</code>判断</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">available_toppings = [<span class="string">'mushrooms'</span>, <span class="string">'olives'</span>, <span class="string">'green peppers'</span>, <span class="string">'pepperoni'</span>, <span class="string">'pineapple'</span>, <span class="string">'extra cheese'</span>]</span><br><span class="line">requested_toppings = [<span class="string">'mushrooms'</span>, <span class="string">'french fries'</span>, <span class="string">'extra cheese'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> requested_topping <span class="keyword">in</span> requested_toppings:</span><br><span class="line">    <span class="keyword">if</span> requested_topping <span class="keyword">in</span> available_toppings:</span><br><span class="line">        print(<span class="string">"Adding "</span> + requested_topping + <span class="string">"."</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">"Sorry, we don't have "</span> + requested_topping + <span class="string">"."</span>)</span><br><span class="line">    print(<span class="string">"\nFinished making your pizza!"</span>)</span><br></pre></td></tr></table></figure><h4 id="使用函数range"><a href="#使用函数range" class="headerlink" title="使用函数range()"></a>使用函数<code>range()</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">5</span>):                       <span class="comment"># 生成有序数值</span></span><br><span class="line">    print(value)                                <span class="comment"># 它只会打印4个数值，最后一个数值不会打印</span></span><br><span class="line">num = list(range(<span class="number">1</span>, <span class="number">6</span>))                         <span class="comment"># 创建数值列表</span></span><br><span class="line">print(num)                                      <span class="comment"># 结果：[1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line">even_num = list(range(<span class="number">2</span>, <span class="number">11</span>, <span class="number">2</span>))                <span class="comment"># 使用range()还可以指定步长</span></span><br><span class="line">print(even_num)                                 <span class="comment"># 结果：[2, 4, 6, 8, 10]</span></span><br></pre></td></tr></table></figure><h4 id="对数值列表执行简单的统计计算"><a href="#对数值列表执行简单的统计计算" class="headerlink" title="对数值列表执行简单的统计计算"></a>对数值列表执行简单的统计计算</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">digits = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">0</span>]</span><br><span class="line">min(digits)                                     <span class="comment"># 取最小值</span></span><br><span class="line">max(digits)                                     <span class="comment"># 取最大值</span></span><br><span class="line">sum(digits)                                     <span class="comment"># 求总和</span></span><br></pre></td></tr></table></figure><h4 id="列表解析"><a href="#列表解析" class="headerlink" title="列表解析"></a><strong>列表解析</strong></h4><ul><li>复杂模式1<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">squares = []</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">    square = value**<span class="number">2</span></span><br><span class="line">    squares.append(square)</span><br><span class="line">print(squares)</span><br></pre></td></tr></table></figure></li><li>较复杂模式2<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">squares = []</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">    squares.append(value**<span class="number">2</span>)</span><br><span class="line">print(squares)</span><br></pre></td></tr></table></figure></li><li>列表解析<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">squares = [value**<span class="number">2</span> <span class="keyword">for</span> value <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">11</span>)]</span><br><span class="line">print(squares)</span><br></pre></td></tr></table></figure>要使用这种语法，首先指定一个描述性的列表名，如<code>squares</code>；然后，指定一个左方括号，并定义一个表达式，用于生成你要存储到列表中的值。<br>表达式为<code>value**2</code>，它计算平方值。接下来，编写一个<code>for</code>循环，用于给表达式提供值，再加上右方括号。<br><code>for</code>循环为<code>for value in range(1,11)</code>，它将值1~10提供给表达式<code>value**2</code>。请注意，这里的<code>for</code>语句末尾没有冒号。</li></ul><h4 id="使用列表的一部分：列表切片『重要』"><a href="#使用列表的一部分：列表切片『重要』" class="headerlink" title="使用列表的一部分：列表切片『重要』"></a>使用列表的一部分：列表切片『重要』</h4><p>定义列表后，可从其中获取任何部分作为新列表。该技术称为对列表进行<code>切片</code>。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a_list = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'mpilgrim'</span>, <span class="string">'z'</span>, <span class="string">'example'</span>]</span><br><span class="line">&gt;&gt;&gt; a_list[1:3]            ①</span><br><span class="line"><span class="comment"># ① 通过指定两个索引值，可以从列表中获取称作“切片”的某个部分。返回值是一个新列表，它包含列表(??切片)中所有元素，按顺序从第一个切片索引开始（本例中为 a_list[1]），截止但不包含第二个切片索引（本例中的 a_list[3]）。</span></span><br><span class="line">[<span class="string">'b'</span>, <span class="string">'mpilgrim'</span>]</span><br><span class="line">&gt;&gt;&gt; a_list[1:-1]           ②</span><br><span class="line"><span class="comment"># ② 如果切片索引之一或两者均为负数，切片操作仍可进行。如果有帮助的话，您可以这么思考：自左向右读取列表，第一个切片索引指明了想要的第一个元素，第二个切片索引指明了第一个不想要的元素。返回值是两者之间的任何值。 between.</span></span><br><span class="line">[<span class="string">'b'</span>, <span class="string">'mpilgrim'</span>, <span class="string">'z'</span>]</span><br><span class="line">&gt;&gt;&gt; a_list[0:3]            ③</span><br><span class="line"><span class="comment"># ③ 列表是以零为起点的，因此 a_list[0:3] 返回列表的头三个元素，从 a_list[0] 开始，截止到但不包括 a_list[3] 。</span></span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'mpilgrim'</span>]</span><br><span class="line">&gt;&gt;&gt; a_list[:3]             ④</span><br><span class="line"><span class="comment"># ④ 如果左切片索引为零，可以将其留空而将零隐去。因此 a_list[:3] 与 a_list[0:3] 是完全相同的，因为起点 0 被隐去了。</span></span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'mpilgrim'</span>]</span><br><span class="line">&gt;&gt;&gt; a_list[3:]             ⑤</span><br><span class="line"><span class="comment"># ⑤ 同样，如果右切片索引为列表的长度，也可以将其留空。因此 a_list[3:] 与 a_list[3:5] 是完全相同的，因为该列表有五个元素。此处有个好玩的对称现象。在这个五元素列表中， a_list[:3] 返回头三个元素，而 a_list[3:] 返回最后两个元素。事实上，无论列表的长度是多少, a_list[:n] 将返回头 n 个元素，而 a_list[n:] 返回其余部分。</span></span><br><span class="line">[<span class="string">'z'</span>, <span class="string">'example'</span>]</span><br><span class="line">&gt;&gt;&gt; a_list[:]              ⑥</span><br><span class="line"><span class="comment"># ⑥ 如果两个切片索引都留空，那么将包括列表所有的元素。但该返回值与最初的 a_list 变量并不一样。它是一个新列表，只不过恰好拥有完全相同的元素而已。a_list[:] 是对列表进行复制的一条捷径。</span></span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'mpilgrim'</span>, <span class="string">'z'</span>, <span class="string">'example'</span>]</span><br></pre></td></tr></table></figure><h4 id="分片赋值"><a href="#分片赋值" class="headerlink" title="分片赋值"></a>分片赋值</h4><ul><li>一次为多个元素赋值<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; name = list(<span class="string">'Perl'</span>)</span><br><span class="line">&gt;&gt;&gt; name</span><br><span class="line">[<span class="string">'P'</span>, <span class="string">'e'</span>, <span class="string">'r'</span>, <span class="string">'l'</span>]</span><br><span class="line">&gt;&gt;&gt; name[1:] = list(<span class="string">'ython'</span>)</span><br><span class="line">&gt;&gt;&gt; name</span><br><span class="line">[<span class="string">'P'</span>, <span class="string">'y'</span>, <span class="string">'t'</span>, <span class="string">'h'</span>, <span class="string">'o'</span>, <span class="string">'n'</span>]</span><br></pre></td></tr></table></figure></li><li>插入新的元素「替换一个空的切片」<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; numbers = [1, 5]</span><br><span class="line">&gt;&gt;&gt; numbers[1:1] = [2, 3, 4]</span><br><span class="line">&gt;&gt;&gt; numbers</span><br><span class="line">[1, 2, 3, 4, 5]</span><br></pre></td></tr></table></figure></li><li>删除元素<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; numbers</span><br><span class="line">[1, 2, 3, 4, 5]</span><br><span class="line">&gt;&gt;&gt; numbers[1:4] = []</span><br><span class="line">&gt;&gt;&gt; numbers</span><br><span class="line">[1, 5]</span><br></pre></td></tr></table></figure></li></ul><h4 id="列表方法"><a href="#列表方法" class="headerlink" title="列表方法"></a>列表方法</h4><ul><li>append「列表末尾增加元素」</li><li>count 「统计某个元素在列表中出现的次数」<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; [<span class="string">'to'</span>, <span class="string">'be'</span>, <span class="string">'or'</span>, <span class="string">'not'</span>, <span class="string">'to'</span>, <span class="string">'be'</span>].count(<span class="string">'to'</span>) </span><br><span class="line">2 </span><br><span class="line">&gt;&gt;&gt; x = [[1, 2], 1, 1, [2, 1, [1, 2]]] </span><br><span class="line">&gt;&gt;&gt; x.count(1) </span><br><span class="line">2 </span><br><span class="line">&gt;&gt;&gt; x.count([1, 2]) </span><br><span class="line">1</span><br></pre></td></tr></table></figure></li><li>extend 「在列表末尾增加另一个列表中的多个值」「原列表被修改」<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = [1, 2, 3] </span><br><span class="line">&gt;&gt;&gt; b = [4, 5, 6] </span><br><span class="line">&gt;&gt;&gt; a.extend(b) </span><br><span class="line">&gt;&gt;&gt; a </span><br><span class="line">[1, 2, 3, 4, 5, 6]</span><br></pre></td></tr></table></figure></li><li>index 「索引位置」<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; knights = [<span class="string">'We'</span>, <span class="string">'are'</span>, <span class="string">'the'</span>, <span class="string">'knights'</span>, <span class="string">'who'</span>, <span class="string">'say'</span>, <span class="string">'ni'</span>] </span><br><span class="line">&gt;&gt;&gt; knights.index(<span class="string">'who'</span>) </span><br><span class="line">4 </span><br><span class="line">&gt;&gt;&gt; knights.index(<span class="string">'herring'</span>) </span><br><span class="line">Traceback (innermost last): </span><br><span class="line"> File <span class="string">"&lt;pyshell&gt;"</span>, line 1, <span class="keyword">in</span> ? </span><br><span class="line"> knights.index(<span class="string">'herring'</span>) </span><br><span class="line">ValueError: list.index(x): x not <span class="keyword">in</span> list</span><br><span class="line">&gt;&gt;&gt; knights[4] </span><br><span class="line"><span class="string">'who'</span></span><br></pre></td></tr></table></figure></li><li>insert 「列表插入元素」「第一个参数是索引号，第二个参数是待添加的新元素」<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; numbers = [1, 2, 3, 5, 6, 7] </span><br><span class="line">&gt;&gt;&gt; numbers.insert(3, <span class="string">'four'</span>) </span><br><span class="line">&gt;&gt;&gt; numbers </span><br><span class="line">[1, 2, 3, <span class="string">'four'</span>, 5, 6, 7]</span><br></pre></td></tr></table></figure></li><li>pop 「移除列表元素」「默认最后一个」「可实现一种常见的数据结构—栈”后进先出”」<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = [1, 2, 3] </span><br><span class="line">&gt;&gt;&gt; x.pop() </span><br><span class="line">3 </span><br><span class="line">&gt;&gt;&gt; x </span><br><span class="line">[1, 2] </span><br><span class="line">&gt;&gt;&gt; x.pop(0) </span><br><span class="line">1 </span><br><span class="line">&gt;&gt;&gt; x </span><br><span class="line">[2]</span><br></pre></td></tr></table></figure></li><li>remove 「删除第一个指定值的元素」<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = [<span class="string">'to'</span>, <span class="string">'be'</span>, <span class="string">'or'</span>, <span class="string">'not'</span>, <span class="string">'to'</span>, <span class="string">'be'</span>] </span><br><span class="line">&gt;&gt;&gt; x.remove(<span class="string">'be'</span>) </span><br><span class="line">&gt;&gt;&gt; x </span><br><span class="line">[<span class="string">'to'</span>, <span class="string">'or'</span>, <span class="string">'not'</span>, <span class="string">'to'</span>, <span class="string">'be'</span>] </span><br><span class="line">&gt;&gt;&gt; x.remove(<span class="string">'bee'</span>) </span><br><span class="line">Traceback (innermost last): </span><br><span class="line"> File <span class="string">"&lt;pyshell&gt;"</span>, line 1, <span class="keyword">in</span> ? </span><br><span class="line"> x.remove(<span class="string">'bee'</span>) </span><br><span class="line">ValueError: list.remove(x): x not <span class="keyword">in</span> list</span><br></pre></td></tr></table></figure></li><li>reverse 「按相反的顺序排列列表中的元素」「reversed」<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = [1, 2, 3] </span><br><span class="line">&gt;&gt;&gt; x.reverse() </span><br><span class="line">&gt;&gt;&gt; x </span><br><span class="line">[3, 2, 1]</span><br></pre></td></tr></table></figure></li><li>sort 「对列表就地排序」「sorted」<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = [4, 6, 2, 1, 7, 9] </span><br><span class="line">&gt;&gt;&gt; x.sort() </span><br><span class="line">&gt;&gt;&gt; x </span><br><span class="line">[1, 2, 4, 6, 7, 9]</span><br></pre></td></tr></table></figure></li><li>高级排序「方法sort接受两个可选参数：key和reverse」<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = [<span class="string">'aardvark'</span>, <span class="string">'abalone'</span>, <span class="string">'acme'</span>, <span class="string">'add'</span>, <span class="string">'aerate'</span>] </span><br><span class="line">&gt;&gt;&gt; x.sort(key=len) </span><br><span class="line">&gt;&gt;&gt; x </span><br><span class="line">[<span class="string">'add'</span>, <span class="string">'acme'</span>, <span class="string">'aerate'</span>, <span class="string">'abalone'</span>, <span class="string">'aardvark'</span>]</span><br><span class="line">&gt;&gt;&gt; x = [4, 6, 2, 1, 7, 9] </span><br><span class="line">&gt;&gt;&gt; x.sort(reverse=True) </span><br><span class="line">&gt;&gt;&gt; x </span><br><span class="line">[9, 7, 6, 4, 2, 1]</span><br></pre></td></tr></table></figure></li></ul><h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><h4 id="设置字符串格式『Python基础教程3-2、3-3节』"><a href="#设置字符串格式『Python基础教程3-2、3-3节』" class="headerlink" title="设置字符串格式『Python基础教程3.2、3.3节』"></a>设置字符串格式『Python基础教程3.2、3.3节』</h4><ol><li><code>%</code>-转换说明符<br><code>%s</code>-s将值的格式设置为字符串<br><code>%.3f</code>-将值的格式设置为包含3位小数的浮点数<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; format = <span class="string">"Hello, %s. %s enough for ya?"</span></span><br><span class="line">&gt;&gt;&gt; values = (<span class="string">'world'</span>, <span class="string">'Hot'</span>) </span><br><span class="line">&gt;&gt;&gt; format % values</span><br><span class="line"><span class="string">'Hello, world. Hot enough for ya?'</span></span><br></pre></td></tr></table></figure></li><li><code>{}.format</code>-字符串方法<br>每个替换字段都用花括号括起，其中可能包含名称，还可能包含有关如何对相应的值进行转换和格式设置的信息<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在最简单的情况下，替换字段没有名称或将索引用作名称。</span></span><br><span class="line">&gt;&gt;&gt; <span class="string">"&#123;&#125;, &#123;&#125; and &#123;&#125;"</span>.format(<span class="string">"first"</span>, <span class="string">"second"</span>, <span class="string">"third"</span>) </span><br><span class="line"><span class="string">'first, second and third'</span> </span><br><span class="line">&gt;&gt;&gt; <span class="string">"&#123;0&#125;, &#123;1&#125; and &#123;2&#125;"</span>.format(<span class="string">"first"</span>, <span class="string">"second"</span>, <span class="string">"third"</span>) </span><br><span class="line"><span class="string">'first, second and third'</span> </span><br><span class="line"><span class="comment"># 然而，索引无需像上面这样按顺序排列。</span></span><br><span class="line">&gt;&gt;&gt; <span class="string">"&#123;3&#125; &#123;0&#125; &#123;2&#125; &#123;1&#125; &#123;3&#125; &#123;0&#125;"</span>.format(<span class="string">"be"</span>, <span class="string">"not"</span>, <span class="string">"or"</span>, <span class="string">"to"</span>) </span><br><span class="line"><span class="string">'to be or not to be'</span> </span><br><span class="line"><span class="comment"># 命名字段的工作原理与你预期的完全相同。</span></span><br><span class="line">&gt;&gt;&gt; from math import pi </span><br><span class="line">&gt;&gt;&gt; <span class="string">"&#123;name&#125; is approximately &#123;value:.2f&#125;."</span>.format(value=pi, name=<span class="string">"π"</span>) </span><br><span class="line"><span class="string">'π is approximately 3.14.'</span></span><br></pre></td></tr></table></figure></li><li>格式化字符串核心-<code>替换字段</code><br>替换字段由如下部分组成：<ul><li><code>字段名</code>：索引或标识符，指出要设置哪个值的格式并使用结果来替换该字段。除指定值外，还可指定值的特定部分，如列表的元素。</li><li><code>转换标志</code>：跟在叹号后面的单个字符。当前支持的字符包括<code>r（表示repr）</code>、<code>s（表示str）</code>和<code>a（表示ascii）</code>。如果你指定了转换标志，将不使用对象本身的格式设置机制，而是使用指定的函数将对象转换为字符串，再做进一步的格式设置。</li><li><code>格式说明符</code>：跟在冒号后面的表达式（这种表达式是使用微型格式指定语言表示的）。格式说明符让我们能够详细地指定最终的格式，包括格式类型（如字符串、浮点数或十六进制数），字段宽度和数的精度，如何显示符号和千位分隔符，以及各种对齐和填充方式。</li></ul>3.1 替换字段名：<pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="string">"&#123;foo&#125; &#123;&#125; &#123;bar&#125; &#123;&#125;"</span>.format(1, 2, bar=4, foo=3) </span><br><span class="line"><span class="string">'3 1 4 2'</span> </span><br><span class="line">&gt;&gt;&gt; <span class="string">"&#123;foo&#125; &#123;1&#125; &#123;bar&#125; &#123;0&#125;"</span>.format(1, 2, bar=4, foo=3) </span><br><span class="line"><span class="string">'3 2 4 1'</span></span><br></pre></td></tr></table></figure></code></pre>3.2 基本转换<br>3.3 宽度、精度、千位分隔符<br>3.4 符号、对齐、用0填充</li></ol><h4 id="字符串方法"><a href="#字符串方法" class="headerlink" title="字符串方法"></a>字符串方法</h4><ol><li>center<br>通过在两边添加填充字符（默认为空格）让字符串居中。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="string">"The Middle by Jimmy Eat World"</span>.center(39) </span><br><span class="line"><span class="string">' The Middle by Jimmy Eat World '</span> </span><br><span class="line">&gt;&gt;&gt; <span class="string">"The Middle by Jimmy Eat World"</span>.center(39, <span class="string">"*"</span>) </span><br><span class="line"><span class="string">'*****The Middle by Jimmy Eat World*****'</span></span><br></pre></td></tr></table></figure></li><li>find<br>在字符串中查找子串。如果找到，就返回子串的第一个字符的索引，否则返回-1。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="string">'With a moo-moo here, and a moo-moo there'</span>.find(<span class="string">'moo'</span>) </span><br><span class="line">7 </span><br><span class="line">&gt;&gt;&gt; title = <span class="string">"Monty Python's Flying Circus"</span> </span><br><span class="line">&gt;&gt;&gt; title.find(<span class="string">'Monty'</span>) </span><br><span class="line">0 </span><br><span class="line">&gt;&gt;&gt; title.find(<span class="string">'Python'</span>) </span><br><span class="line">6 </span><br><span class="line">&gt;&gt;&gt; title.find(<span class="string">'Flying'</span>) </span><br><span class="line">15 </span><br><span class="line">&gt;&gt;&gt; title.find(<span class="string">'Zirquss'</span>) </span><br><span class="line">-1</span><br><span class="line"><span class="comment"># 指定搜索的起点和终点（它们都是可选的）。</span></span><br><span class="line">&gt;&gt;&gt; subject = <span class="string">'$$$ Get rich now!!! $$$'</span> </span><br><span class="line">&gt;&gt;&gt; subject.find(<span class="string">'$$$'</span>) </span><br><span class="line">0 </span><br><span class="line">&gt;&gt;&gt; subject.find(<span class="string">'$$$'</span>, 1) <span class="comment"># 只指定了起点</span></span><br><span class="line">20 </span><br><span class="line">&gt;&gt;&gt; subject.find(<span class="string">'!!!'</span>) </span><br><span class="line">16 </span><br><span class="line">&gt;&gt;&gt; subject.find(<span class="string">'!!!'</span>, 0, 16) <span class="comment"># 同时指定了起点和终点</span></span><br><span class="line">-1</span><br></pre></td></tr></table></figure></li><li>join<br>其作用与split相反，用于合并序列的元素。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; seq = [1, 2, 3, 4, 5] </span><br><span class="line">&gt;&gt;&gt; sep = <span class="string">'+'</span> </span><br><span class="line">&gt;&gt;&gt; sep.join(seq) <span class="comment"># 尝试合并一个数字列表</span></span><br><span class="line">Traceback (most recent call last): </span><br><span class="line"> File <span class="string">"&lt;stdin&gt;"</span>, line 1, <span class="keyword">in</span> ? </span><br><span class="line">TypeError: sequence item 0: expected string, int found </span><br><span class="line">&gt;&gt;&gt; seq = [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>] </span><br><span class="line">&gt;&gt;&gt; sep.join(seq) <span class="comment"># 合并一个字符串列表</span></span><br><span class="line"><span class="string">'1+2+3+4+5'</span> </span><br><span class="line">&gt;&gt;&gt; <span class="built_in">dirs</span> = <span class="string">''</span>, <span class="string">'usr'</span>, <span class="string">'bin'</span>, <span class="string">'env'</span> </span><br><span class="line">&gt;&gt;&gt; <span class="string">'/'</span>.join(<span class="built_in">dirs</span>) </span><br><span class="line"><span class="string">'/usr/bin/env'</span> </span><br><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(<span class="string">'C:'</span> + <span class="string">'\\'</span>.join(<span class="built_in">dirs</span>)) </span><br><span class="line">C:\usr\bin\env</span><br></pre></td></tr></table></figure></li><li>lower<br>返回字符串的小写版本。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="string">'Trondheim Hammer Dance'</span>.lower() </span><br><span class="line"><span class="string">'trondheim hammer dance'</span></span><br></pre></td></tr></table></figure></li><li>replace<br>将指定子串都替换为另一个字符串，并返回替换后的结果。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="string">'This is a test'</span>.replace(<span class="string">'is'</span>, <span class="string">'eez'</span>) </span><br><span class="line"><span class="string">'Theez eez a test'</span></span><br></pre></td></tr></table></figure></li><li>split<br>作用与join相反，用于将字符串拆分为序列。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="string">'1+2+3+4+5'</span>.split(<span class="string">'+'</span>) </span><br><span class="line">[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>] </span><br><span class="line">&gt;&gt;&gt; <span class="string">'/usr/bin/env'</span>.split(<span class="string">'/'</span>) </span><br><span class="line">[<span class="string">''</span>, <span class="string">'usr'</span>, <span class="string">'bin'</span>, <span class="string">'env'</span>] </span><br><span class="line">&gt;&gt;&gt; <span class="string">'Using the default'</span>.split() </span><br><span class="line">[<span class="string">'Using'</span>, <span class="string">'the'</span>, <span class="string">'default'</span>]</span><br></pre></td></tr></table></figure>如果没有指定分隔符，将默认在单个或多个连续的空白字符（空格、制表符、换行符等）处进行拆分。</li><li>strip<br>将字符串开头和末尾的空白（但不包括中间的空白）删除，并返回删除后的结果。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="string">' internal whitespace is kept '</span>.strip() </span><br><span class="line"><span class="string">'internal whitespace is kept'</span></span><br></pre></td></tr></table></figure>与lower一样，需要将输入与存储的值进行比较时，strip很有用。回到前面介绍lower时使用的用户名示例，并假定用户输入用户名时不小心在末尾加上了一个空格。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; names = [<span class="string">'gumby'</span>, <span class="string">'smith'</span>, <span class="string">'jones'</span>] </span><br><span class="line">&gt;&gt;&gt; name = <span class="string">'gumby '</span> </span><br><span class="line">&gt;&gt;&gt; <span class="keyword">if</span> name <span class="keyword">in</span> names: <span class="built_in">print</span>(<span class="string">'Found it!'</span>) </span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; <span class="keyword">if</span> name.strip() <span class="keyword">in</span> names: <span class="built_in">print</span>(<span class="string">'Found it!'</span>) </span><br><span class="line">... </span><br><span class="line">Found it! </span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>还可在一个字符串参数中指定要删除哪些字符。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="string">'*** SPAM * for * everyone!!! ***'</span>.strip(<span class="string">' *!'</span>) </span><br><span class="line"><span class="string">'SPAM * for * everyone'</span></span><br></pre></td></tr></table></figure></li><li>translate<br>方法translate与replace一样替换字符串的特定部分，但不同的是它只能进行单字符替换。这个方法的优势在于能够同时替换多个字符，因此效率比replace高。</li></ol><h3 id="元组tuple"><a href="#元组tuple" class="headerlink" title="元组tuple"></a>元组<code>tuple</code></h3><p>元组：是不可变的列表。一旦创建之后，用任何方法都不可以修改元素。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a_tuple = (<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"mpilgrim"</span>, <span class="string">"z"</span>, <span class="string">"example"</span>)</span><br><span class="line"><span class="comment"># 负的索引从元组的尾部开始计数，这和列表也是一样的。</span></span><br><span class="line">&gt;&gt;&gt; a_tuple[-1]</span><br><span class="line"><span class="string">'example'</span></span><br><span class="line">&gt;&gt;&gt; a_tuple[1:3]</span><br><span class="line"><span class="comment"># 和列表一样，元组也可以进行切片操作。对列表切片可以得到新的列表；对元组切片可以得到新的元组。</span></span><br><span class="line">(<span class="string">'b'</span>, <span class="string">'mpilgrim'</span>)</span><br></pre></td></tr></table></figure><p>元组和列表的主要区别是元组不能进行修改。用技术术语来说，元组是<code>不可变更</code>的。从实践的角度来说，没有可用于修改元组的方法。列表有像<code>append()</code>、<code>extend()</code>、<code>insert()</code>、<code>remove()</code>和<code>pop()</code>这样的方法。这些方法，元组都没有。可以对元组进行切片操作（因为该方法创建一个新的元组），可以检查元组是否包含了特定的值（因为该操作不修改元组），还可以……就那么多了。<br>元组有什么好处:</p><ul><li>元组的速度比列表更快。如果定义了一系列常量值，而所需做的仅是对它进行遍历，那么请使用元组替代列表。</li><li>对不需要改变的数据进行“写保护”将使得代码更加安全。使用元组替代列表就像是有一条隐含的 assert 语句显示该数据是常量，特别的想法（及特别的功能）必须重写。（？？）</li><li>一些元组可用作字典键（特别是包含字符串、数值和其它元组这样的不可变数据的元组）。列表永远不能当做字典键使用，因为列表不是不可变的。</li></ul><p>元组可转换成列表，反之亦然。内建的<code>tuple()</code>函数接受一个列表参数，并返回一个包含同样元素的元组，而<code>list()</code>函数接受一个元组参数并返回一个列表。从效果上看，<code>tuple()</code>冻结列表，而<code>list()</code>融化元组。</p><h3 id="集合"><a href="#集合" class="headerlink" title="集合{ }"></a>集合<code>{ }</code></h3><p>一个简单的集合可以包含任何数据类型的值。如果有两个集合，则可以执行像联合、交集以及集合求差等标准集合运算。</p><h4 id="从list创建集合"><a href="#从list创建集合" class="headerlink" title="从list创建集合"></a>从list创建集合</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a_list = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'mpilgrim'</span>, True, False, 42]</span><br><span class="line">&gt;&gt;&gt; a_set = <span class="built_in">set</span>(a_list)                           ①</span><br><span class="line">&gt;&gt;&gt; a_set                                         ②</span><br><span class="line"><span class="comment"># 集合是 无序的。该集合并不记得用于创建它的列表中元素的最初顺序。</span></span><br><span class="line">&#123;<span class="string">'a'</span>, False, <span class="string">'b'</span>, True, <span class="string">'mpilgrim'</span>, 42&#125;</span><br></pre></td></tr></table></figure><h4 id="创建空集合"><a href="#创建空集合" class="headerlink" title="创建空集合"></a>创建空集合</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 要创建空集合，可不带参数调用 set() 。</span></span><br><span class="line">&gt;&gt;&gt; a_set = <span class="built_in">set</span>()    ①</span><br><span class="line">&gt;&gt;&gt; a_set            ②</span><br><span class="line"><span class="comment"># 打印出来的空集合表现形式看起来有点儿怪。也许，您期望看到一个 &#123;&#125; 吧 ？该符号表示一个空的字典，而不是一个空的集合。</span></span><br><span class="line"><span class="built_in">set</span>()</span><br><span class="line">&gt;&gt;&gt; <span class="built_in">type</span>(a_set)      ③</span><br><span class="line">&lt;class <span class="string">'set'</span>&gt;</span><br></pre></td></tr></table></figure><h4 id="修改集合"><a href="#修改集合" class="headerlink" title="修改集合"></a>修改集合</h4><p>有两种方法可向现有集合中添加值： add() 方法和 update() 方法。<br>集合是装 唯一值 的袋子。如果试图添加一个集合中已有的值，将不会发生任何事情。将不会引发一个错误；只是一条空操作。</p><h4 id="从集合中删除元素"><a href="#从集合中删除元素" class="headerlink" title="从集合中删除元素"></a>从集合中删除元素</h4><p>有三种方法可以用来从集合中删除某个值。前两种，discard() 和 remove() 有细微的差异。集合也有个 pop() 方法。<br><code>pop()</code>方法从集合中删除某个值，并返回该值。然而，由于集合是无序的，并没有“最后一个”值的概念，因此无法控制删除的是哪一个值。它基本上是随机的。</p><h4 id="常见集合操作"><a href="#常见集合操作" class="headerlink" title="常见集合操作"></a>常见集合操作</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a_set = &#123;2, 4, 5, 9, 12, 21, 30, 51, 76, 127, 195&#125;</span><br><span class="line"><span class="comment"># ① 要检测某值是否是集合的成员，可使用 in 运算符。其工作原理和列表的一样。</span></span><br><span class="line">&gt;&gt;&gt; 30 <span class="keyword">in</span> a_set                                                     ①</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; 31 <span class="keyword">in</span> a_set</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; b_set = &#123;1, 2, 3, 5, 6, 8, 9, 12, 15, 17, 18, 21&#125;</span><br><span class="line">&gt;&gt;&gt; a_set.union(b_set)                                              ②</span><br><span class="line"><span class="comment"># ② union() 方法返回一个新集合，其中装着 在两个 集合中出现的元素。</span></span><br><span class="line">&#123;1, 2, 195, 4, 5, 6, 8, 12, 76, 15, 17, 18, 3, 21, 30, 51, 9, 127&#125;</span><br><span class="line">&gt;&gt;&gt; a_set.intersection(b_set)                                       ③</span><br><span class="line"><span class="comment"># ③ intersection() 方法返回一个新集合，其中装着 同时 在两个集合中出现的所有元素。</span></span><br><span class="line">&#123;9, 2, 12, 5, 21&#125;</span><br><span class="line">&gt;&gt;&gt; a_set.difference(b_set)                                         ④</span><br><span class="line"><span class="comment"># ④ difference() 方法返回的新集合中，装着所有在 a_set 出现但未在 b_set 中的元素。</span></span><br><span class="line">&#123;195, 4, 76, 51, 30, 127&#125;</span><br><span class="line">&gt;&gt;&gt; a_set.symmetric_difference(b_set)                               ⑤</span><br><span class="line"><span class="comment"># ⑤ symmetric_difference() 方法返回一个新集合，其中装着所有 只在其中一个 集合中出现的元素。</span></span><br><span class="line">&#123;1, 3, 4, 6, 8, 76, 15, 17, 18, 195, 127, 30, 51&#125;</span><br></pre></td></tr></table></figure><h3 id="字典dict"><a href="#字典dict" class="headerlink" title="字典dict"></a>字典<code>dict</code></h3><p>字典 是键值对的无序集合。向字典添加一个键的同时，必须为该键增添一个值。（之后可随时修改该值。） Python 的字典为通过键获取值进行了优化，而不是反过来。</p><h4 id="修改字典"><a href="#修改字典" class="headerlink" title="修改字典"></a>修改字典</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a_dict = &#123;<span class="string">'server'</span>: <span class="string">'db.diveintopython3.org'</span>, <span class="string">'database'</span>: <span class="string">'mysql'</span>&#125;</span><br><span class="line">&gt;&gt;&gt; a_dict[<span class="string">'database'</span>] = <span class="string">'blog'</span>  ①</span><br><span class="line"><span class="comment"># ① 在字典中不允许有重复的键。对现有的键赋值将会覆盖旧值。</span></span><br><span class="line">&gt;&gt;&gt; a_dict</span><br><span class="line">&#123;<span class="string">'server'</span>: <span class="string">'db.diveintopython3.org'</span>, <span class="string">'database'</span>: <span class="string">'blog'</span>&#125;</span><br><span class="line">&gt;&gt;&gt; a_dict[<span class="string">'user'</span>] = <span class="string">'mark'</span>      ②</span><br><span class="line"><span class="comment"># ② 可随时添加新的键值对。该语法与修改现有值相同。</span></span><br><span class="line">&gt;&gt;&gt; a_dict                       ③</span><br><span class="line"><span class="comment"># ③ 新字典项（键为 'user'，值为 'mark'）出现在中间。事实上，在第一个例子中字典项按顺序出现是个巧合；现在它们不按顺序出现同样也是个巧合。</span></span><br><span class="line">&#123;<span class="string">'server'</span>: <span class="string">'db.diveintopython3.org'</span>, <span class="string">'user'</span>: <span class="string">'mark'</span>, <span class="string">'database'</span>: <span class="string">'blog'</span>&#125;</span><br><span class="line">&gt;&gt;&gt; a_dict[<span class="string">'user'</span>] = <span class="string">'dora'</span>      ④</span><br><span class="line"><span class="comment"># ④ 对既有字典键进行赋值只会用新值替代旧值。</span></span><br><span class="line">&gt;&gt;&gt; a_dict</span><br><span class="line">&#123;<span class="string">'server'</span>: <span class="string">'db.diveintopython3.org'</span>, <span class="string">'user'</span>: <span class="string">'dora'</span>, <span class="string">'database'</span>: <span class="string">'blog'</span>&#125;</span><br><span class="line">&gt;&gt;&gt; a_dict[<span class="string">'User'</span>] = <span class="string">'mark'</span>      ⑤</span><br><span class="line"><span class="comment"># ⑤ 该操作会将 user 键的值改回 "mark" 吗？不会！仔细看看该键——有个大写的 U 出现在 "User" 中。字典键是区分大小写的，因此该语句创建了一组新的键值对，而不是覆盖既有的字典项。对你来说它们可能是一样的，但对于 Python 而言它们是完全不同的。</span></span><br><span class="line">&gt;&gt;&gt; a_dict</span><br><span class="line">&#123;<span class="string">'User'</span>: <span class="string">'mark'</span>, <span class="string">'server'</span>: <span class="string">'db.diveintopython3.org'</span>, <span class="string">'user'</span>: <span class="string">'dora'</span>, <span class="string">'database'</span>: <span class="string">'blog'</span>&#125;</span><br></pre></td></tr></table></figure><h4 id="混合值字典，value不为单个值"><a href="#混合值字典，value不为单个值" class="headerlink" title="混合值字典，value不为单个值"></a>混合值字典，value不为单个值</h4><p>字典并非只能用于字符串。字典的值可以是任何数据类型，包括整数、布尔值、任何对象，甚至是其它的字典。而且就算在同一字典中，所有的值也无须是同一类型，您可根据需要混合匹配。字典的键要严格得多，可以是字符串、整数和其它一些类型。在同一字典中也可混合、匹配使用不同数据类型的键。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; SUFFIXES = &#123;1000: [<span class="string">'KB'</span>, <span class="string">'MB'</span>, <span class="string">'GB'</span>, <span class="string">'TB'</span>, <span class="string">'PB'</span>, <span class="string">'EB'</span>, <span class="string">'ZB'</span>, <span class="string">'YB'</span>],</span><br><span class="line">...             1024: [<span class="string">'KiB'</span>, <span class="string">'MiB'</span>, <span class="string">'GiB'</span>, <span class="string">'TiB'</span>, <span class="string">'PiB'</span>, <span class="string">'EiB'</span>, <span class="string">'ZiB'</span>, <span class="string">'YiB'</span>]&#125;</span><br><span class="line">&gt;&gt;&gt; len(SUFFIXES)      ①</span><br><span class="line"><span class="comment"># ① 类似 列表 和 集合 ，len() 函数将返回字典中键的数量。</span></span><br><span class="line">2</span><br><span class="line">&gt;&gt;&gt; 1000 <span class="keyword">in</span> SUFFIXES   ②</span><br><span class="line"><span class="comment"># ② 而且像列表和集合一样，可使用 in 运算符以测试某个特定的键是否在字典中。</span></span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; SUFFIXES[1000]     ③</span><br><span class="line"><span class="comment"># ③ 1000 是 字典 SUFFIXES 的一个键；其值为一个 8 元素列表（确切地说，是 8 个字符串）。</span></span><br><span class="line">[<span class="string">'KB'</span>, <span class="string">'MB'</span>, <span class="string">'GB'</span>, <span class="string">'TB'</span>, <span class="string">'PB'</span>, <span class="string">'EB'</span>, <span class="string">'ZB'</span>, <span class="string">'YB'</span>]</span><br><span class="line">&gt;&gt;&gt; SUFFIXES[1024]     ④</span><br><span class="line"><span class="comment"># ④ 同样， 1024 是字典 SUFFIXES 的键；其值也是一个 8 元素列表。</span></span><br><span class="line">[<span class="string">'KiB'</span>, <span class="string">'MiB'</span>, <span class="string">'GiB'</span>, <span class="string">'TiB'</span>, <span class="string">'PiB'</span>, <span class="string">'EiB'</span>, <span class="string">'ZiB'</span>, <span class="string">'YiB'</span>]</span><br><span class="line">&gt;&gt;&gt; SUFFIXES[1000][3]  ⑤</span><br><span class="line"><span class="comment"># ⑤ 由于 SUFFIXES[1000] 是列表，可以通过它们的 0 基点索引来获取列表中的单个元素。</span></span><br><span class="line"><span class="string">'TB'</span></span><br></pre></td></tr></table></figure><h4 id="grades-‘’"><a href="#grades-‘’" class="headerlink" title="grades[‘’]"></a>grades[‘’]</h4><ul><li><p>是否可迭代<code>Iterable</code></p></li><li><p>类似一个概念，实例才是可被CPU操作的，真实存在的东西。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">have_some_food</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'Delicious!'</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hava_a_drink</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'Thanks!'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    me = People()</span><br><span class="line">    you = People()</span><br><span class="line">    me.have_some_food()</span><br><span class="line">    me.hava_a_drink()</span><br></pre></td></tr></table></figure></li></ul><h4 id="字典方法『Python基础教程4-2-4节』"><a href="#字典方法『Python基础教程4-2-4节』" class="headerlink" title="字典方法『Python基础教程4.2.4节』"></a>字典方法『Python基础教程4.2.4节』</h4><ol><li>clear<br>场景一：通过将一个空字典赋给x来“清空”它。这对y没有任何影响，它依然指向原来的字典。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = &#123;&#125; </span><br><span class="line">&gt;&gt;&gt; y = x </span><br><span class="line">&gt;&gt;&gt; x[<span class="string">'key'</span>] = <span class="string">'value'</span> </span><br><span class="line">&gt;&gt;&gt; y </span><br><span class="line">&#123;<span class="string">'key'</span>: <span class="string">'value'</span>&#125; </span><br><span class="line">&gt;&gt;&gt; x = &#123;&#125; </span><br><span class="line">&gt;&gt;&gt; x = &#123;&#125; </span><br><span class="line">&#123;<span class="string">'key'</span>: <span class="string">'value'</span>&#125;</span><br></pre></td></tr></table></figure>场景二：但要删除原来字典的所有元素，必须使用clear。如果这样做，y也将是空的。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = &#123;&#125; </span><br><span class="line">&gt;&gt;&gt; y = x </span><br><span class="line">&gt;&gt;&gt; x[<span class="string">'key'</span>] = <span class="string">'value'</span> </span><br><span class="line">&gt;&gt;&gt; y </span><br><span class="line">&#123;<span class="string">'key'</span>: <span class="string">'value'</span>&#125; </span><br><span class="line">&gt;&gt;&gt; x.clear() </span><br><span class="line">&gt;&gt;&gt; y </span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure></li><li>copy<br>返回一个新字典，其包含的键值对与原来的字典相同（这个方法执行的是浅复制，因为值本身是原件，而非副本）。<br>为避免修改副本时也同时修改了原件，一种办法是执行深复制，即同时复制值及其包含的所有值，等等。为此，可使用模块copy中的函数deepcopy。</li><li>fromkeys<br>创建一个新字典，其中包含指定的键，且每个键对应的值都是None。</li><li>get<br>使用get来访问不存在的键时，没有引发异常，而是返回None。你可指定“默认”值，这样将返回你指定的值而不是None。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; d.get(<span class="string">'name'</span>, <span class="string">'N/A'</span>) </span><br><span class="line"><span class="string">'N/A'</span></span><br></pre></td></tr></table></figure></li><li>items<br>方法items返回一个包含所有字典项的列表，其中每个元素都为(key, value)的形式。字典项在列表中的排列顺序不确定。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; d = &#123;<span class="string">'title'</span>: <span class="string">'Python Web Site'</span>, <span class="string">'url'</span>: <span class="string">'http://www.python.org'</span>, <span class="string">'spam'</span>: 0&#125; </span><br><span class="line">&gt;&gt;&gt; d.items() </span><br><span class="line">dict_items([(<span class="string">'url'</span>, <span class="string">'http://www.python.org'</span>), (<span class="string">'spam'</span>, 0), (<span class="string">'title'</span>, <span class="string">'Python Web Site'</span>)])</span><br></pre></td></tr></table></figure>返回值属于一种名为<code>字典视图</code>的特殊类型。</li><li>keys<br>返回一个<code>字典视图</code>，其中包含指定字典中的键。</li><li>pop<br>用于获取与指定键相关联的值，并将该键值对从字典中删除。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; d = &#123;<span class="string">'x'</span>: 1, <span class="string">'y'</span>: 2&#125; </span><br><span class="line">&gt;&gt;&gt; d.pop(<span class="string">'x'</span>) </span><br><span class="line">1 </span><br><span class="line">&gt;&gt;&gt; d </span><br><span class="line">&#123;<span class="string">'y'</span>: 2&#125;</span><br></pre></td></tr></table></figure></li><li>popitem<br>类似于list.pop，但list.pop弹出列表中的最后一个元素，而popitem随机地弹出一个字典项<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; d = &#123;<span class="string">'url'</span>: <span class="string">'http://www.python.org'</span>, <span class="string">'spam'</span>: 0, <span class="string">'title'</span>: <span class="string">'Python Web Site'</span>&#125; </span><br><span class="line">&gt;&gt;&gt; d.popitem() </span><br><span class="line">(<span class="string">'url'</span>, <span class="string">'http://www.python.org'</span>) </span><br><span class="line">&gt;&gt;&gt; d </span><br><span class="line">&#123;<span class="string">'spam'</span>: 0, <span class="string">'title'</span>: <span class="string">'Python Web Site'</span>&#125;</span><br></pre></td></tr></table></figure></li><li>setdefault<br>有点像get，因为它也获取与指定键相关联的值，但除此之外，setdefault还在字典不包含指定的键时，在字典中添加指定的键值对。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; d = &#123;&#125; </span><br><span class="line">&gt;&gt;&gt; d.setdefault(<span class="string">'name'</span>, <span class="string">'N/A'</span>) </span><br><span class="line"><span class="string">'N/A'</span> </span><br><span class="line">&gt;&gt;&gt; d </span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="string">'N/A'</span>&#125; </span><br><span class="line">&gt;&gt;&gt; d[<span class="string">'name'</span>] = <span class="string">'Gumby'</span> </span><br><span class="line">&gt;&gt;&gt; d.setdefault(<span class="string">'name'</span>, <span class="string">'N/A'</span>) </span><br><span class="line"><span class="string">'Gumby'</span> </span><br><span class="line">&gt;&gt;&gt; d </span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="string">'Gumby'</span>&#125;</span><br></pre></td></tr></table></figure></li><li>update<br>使用一个字典中的项来更新另一个字典。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; d = &#123; </span><br><span class="line">... <span class="string">'title'</span>: <span class="string">'Python Web Site'</span>, </span><br><span class="line">... <span class="string">'url'</span>: <span class="string">'http://www.python.org'</span>, </span><br><span class="line">... <span class="string">'changed'</span>: <span class="string">'Mar 14 22:09:15 MET 2016'</span> </span><br><span class="line">... &#125; </span><br><span class="line">&gt;&gt;&gt; x = &#123;<span class="string">'title'</span>: <span class="string">'Python Language Website'</span>&#125; </span><br><span class="line">&gt;&gt;&gt; d.update(x) </span><br><span class="line">&gt;&gt;&gt; d </span><br><span class="line">&#123;<span class="string">'url'</span>: <span class="string">'http://www.python.org'</span>, <span class="string">'changed'</span>: </span><br><span class="line"><span class="string">'Mar 14 22:09:15 MET 2016'</span>, <span class="string">'title'</span>: <span class="string">'Python Language Website'</span>&#125;</span><br></pre></td></tr></table></figure></li><li>values<br>返回一个由字典中的值组成的字典视图。不同于方法keys，方法values返回的视图可能包含重复的值。</li></ol><h3 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h3><h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><ol><li>位置参数<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">storage = &#123;&#125; </span><br><span class="line">storage[<span class="string">'first'</span>] = &#123;&#125; </span><br><span class="line">storage[<span class="string">'middle'</span>] = &#123;&#125; </span><br><span class="line">storage[<span class="string">'last'</span>] = &#123;&#125; </span><br><span class="line">&gt;&gt;&gt; me = <span class="string">'Magnus Lie Hetland'</span> </span><br><span class="line">&gt;&gt;&gt; storage[<span class="string">'first'</span>][<span class="string">'Magnus'</span>] = [me] </span><br><span class="line">&gt;&gt;&gt; storage[<span class="string">'middle'</span>][<span class="string">'Lie'</span>] = [me] </span><br><span class="line">&gt;&gt;&gt; storage[<span class="string">'last'</span>][<span class="string">'Hetland'</span>] = [me] </span><br><span class="line">&gt;&gt;&gt; storage[<span class="string">'middle'</span>][<span class="string">'Lie'</span>] </span><br><span class="line">[<span class="string">'Magnus Lie Hetland'</span>]</span><br></pre></td></tr></table></figure></li><li>关键字参数和默认值<br>使用名称指定的参数称为关键字参数，主要优点是有助于澄清各个参数的作用。通过给参数指定默认值，可使其变成可选的。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; store(<span class="string">'Mr. Brainsample'</span>, 10, 20, 13, 5) </span><br><span class="line">&gt;&gt;&gt; store(patient=<span class="string">'Mr. Brainsample'</span>, hour=10, minute=20, day=13, month=5)</span><br></pre></td></tr></table></figure>具体使用示例如下：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def hello_3(greeting=<span class="string">'Hello'</span>, name=<span class="string">'world'</span>): </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'&#123;&#125;, &#123;&#125;!'</span>.format(greeting, name)) </span><br><span class="line">&gt;&gt;&gt; hello_3() </span><br><span class="line">Hello, world! </span><br><span class="line">&gt;&gt;&gt; hello_3(<span class="string">'Greetings'</span>) </span><br><span class="line">Greetings, world! </span><br><span class="line">&gt;&gt;&gt; hello_3(<span class="string">'Greetings'</span>, <span class="string">'universe'</span>) </span><br><span class="line">Greetings, universe! </span><br><span class="line">&gt;&gt;&gt; hello_3(name=<span class="string">'Gumby'</span>) </span><br><span class="line">Hello, Gumby!</span><br></pre></td></tr></table></figure></li><li>收集参数<ul><li>参数前面带<code>一个星号</code>将提供的所有值都放在一个元组中，也就是将这些值收集起来。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def print_params_2(title, *params): </span><br><span class="line">    <span class="built_in">print</span>(title) </span><br><span class="line">    <span class="built_in">print</span>(params)</span><br><span class="line">&gt;&gt;&gt; print_params_2(<span class="string">'Params:'</span>, 1, 2, 3) </span><br><span class="line">Params: </span><br><span class="line">(1, 2, 3)</span><br></pre></td></tr></table></figure></li><li><code>一个星号</code>不会收集关键字参数<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def in_the_middle(x, *y, z): </span><br><span class="line">... <span class="built_in">print</span>(x, y, z) </span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; in_the_middle(1, 2, 3, 4, 5, z=7) </span><br><span class="line">1 (2, 3, 4, 5) 7 </span><br><span class="line">&gt;&gt;&gt; in_the_middle(1, 2, 3, 4, 5, 7) </span><br><span class="line">Traceback (most recent call last): </span><br><span class="line"> File <span class="string">"&lt;stdin&gt;"</span>, line 1, <span class="keyword">in</span> &lt;module&gt; </span><br><span class="line">TypeError: in_the_middle() missing 1 required keyword-only argument: <span class="string">'z'</span></span><br></pre></td></tr></table></figure></li><li>要收集关键字参数，可使用两个星号。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def print_params_4(x, y, z=3, *pospar, **keypar): </span><br><span class="line">    <span class="built_in">print</span>(x, y, z) </span><br><span class="line">    <span class="built_in">print</span>(pospar) </span><br><span class="line">    <span class="built_in">print</span>(keypar) </span><br><span class="line">&gt;&gt;&gt; print_params_4(1, 2, 3, 5, 6, 7, foo=1, bar=2) </span><br><span class="line">1 2 3 </span><br><span class="line">(5, 6, 7) </span><br><span class="line">&#123;<span class="string">'foo'</span>: 1, <span class="string">'bar'</span>: 2&#125; </span><br><span class="line">&gt;&gt;&gt; print_params_4(1, 2) </span><br><span class="line">1 2 3 </span><br><span class="line">() </span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><p>在函数内使用的变量称为局部变量（与之相对的是全局变量）。参数类似于局部变量，因此参数与全局变量同名不会有任何问题。</p><ol><li>作用域嵌套<br>Python函数可以嵌套，即可将一个函数放在另一个函数内<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def multiplier(factor): </span><br><span class="line">    def multiplyByFactor(number): </span><br><span class="line">    <span class="built_in">return</span> number * factor </span><br><span class="line">    <span class="built_in">return</span> multiplyByFactor</span><br><span class="line">&gt;&gt;&gt; double = multiplier(2) </span><br><span class="line">&gt;&gt;&gt; double(5) </span><br><span class="line">10 </span><br><span class="line">&gt;&gt;&gt; triple = multiplier(3) </span><br><span class="line">&gt;&gt;&gt; triple(3) </span><br><span class="line">9 </span><br><span class="line">&gt;&gt;&gt; multiplier(5)(4) </span><br><span class="line">20</span><br></pre></td></tr></table></figure>像<code>multiplyByFactor</code>这样存储其所在作用域的函数称为<code>闭包</code>。</li></ol><h4 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h4><ul><li><code>基线条件</code>（针对最小的问题）：满足这种条件时函数将直接返回一个值。</li><li><code>递归条件</code>：包含一个或多个调用，这些调用旨在解决问题的一部分。<br>这里的关键是，通过将问题分解为较小的部分，可避免递归没完没了，因为问题终将被分解成基线条件可以解决的最小问题。</li><li>示例：阶乘和幂</li><li>lambda表达式<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; seq = [<span class="string">"foo"</span>, <span class="string">"x41"</span>, <span class="string">"?!"</span>, <span class="string">"***"</span>]</span><br><span class="line">&gt;&gt;&gt; [x <span class="keyword">for</span> x <span class="keyword">in</span> seq <span class="keyword">if</span> x.isalnum()] </span><br><span class="line">[<span class="string">'foo'</span>, <span class="string">'x41'</span>] </span><br><span class="line">&gt;&gt;&gt; filter(lambda x: x.isalnum(), seq) </span><br><span class="line">[<span class="string">'foo'</span>, <span class="string">'x41'</span>]</span><br></pre></td></tr></table></figure></li></ul><h3 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h3><h4 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h4><ol><li><code>封装</code>是面向对象编程的一大特点</li><li>面向对象编程的<code>第一步</code>——将<code>属性</code>和<code>方法``封装</code>到一个抽象的<code>类</code>中</li><li><code>外界</code>使用<code>类</code>创建<code>对象</code>，然后<code>让对象调用方法</code></li><li><code>对象方法的细节</code>都被<code>封装</code>在<code>类的内部</code></li><li><code>同一个类</code>创建的<code>多个对象</code>之间，<code>属性</code>互不干扰。</li><li>一个对象的<code>属性</code>，可以是<code>另一个类创建的对象</code></li></ol><p>定义没有初始值的属性,如果不知道设置什么初始值，可以设置为<code>None</code></p><ul><li><code>None</code>关键字，表示什么都没有</li><li>表示一个<code>空对象</code>，没有方法和属性，是一个特殊的常量</li><li>可以将<code>None</code>赋值给任何一个变量</li></ul><p>在<code>封装的</code>方法内部，还可以让<code>自己的``使用其他类创建的对象的属性</code>调用已经<code>封装好的方法</code></p><h4 id="身份运算符"><a href="#身份运算符" class="headerlink" title="身份运算符"></a>身份运算符</h4><p>身份运算符，用于比较两个对象的<code>内存地址</code>是否一致–<code>是否是对同一个对象的引用</code><br>在 Python 中针对<code>None</code>比较时，建议使用<code>is</code>判断</p><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>is</td><td>is 是判断两个标识符是不是引用同一个对象</td><td>x is y，类似 id(x) == id(y)</td></tr><tr><td>is not</td><td>is not 是判断两个标识符是不是引用不同对象</td><td>x is not y，类似 id(a) != id(b)</td></tr></tbody></table><p><code>is</code>与<code>==</code>的区别：<br><code>is</code>用于判断<code>两个变量``引用对象是否为同一个</code><br><code>==</code>用于判断<code>引用变量的值</code>是否相等</p><h3 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h3><h4 id="处理文件和目录"><a href="#处理文件和目录" class="headerlink" title="处理文件和目录"></a>处理文件和目录</h4><p><code>Python3</code>带有一个模块叫做<code>os</code>，代表<code>操作系统(operating system)</code>。<code>os</code>模块 包含非常多的函数用于获取(和修改)本地目录、文件进程、环境变量等的信息。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"><span class="keyword">import</span> humansize</span><br><span class="line"></span><br><span class="line">pathname = <span class="string">'/Users/pilgrim/diveintopython3/examples/humansize.py'</span></span><br><span class="line"><span class="comment">### 当前工作目录</span></span><br><span class="line"><span class="comment"># 获取当前工作目录</span></span><br><span class="line">print(os.getcwd())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 改变当前工作目录</span></span><br><span class="line">os.chdir(<span class="string">'/Users/pilgrim/diveintopython3/examples'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">### 处理文件名和目录名</span></span><br><span class="line"><span class="comment"># os.path.join() 函数从一个或多个路径片段中构造一个路径名</span></span><br><span class="line">print(os.path.join(<span class="string">'/Users/pilgrim/diveintopython3/examples/'</span>, <span class="string">'humansize.py'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在和文件名拼接前，join函数给路径名添加一个额外的斜杠；无论你使用哪种形式的斜杠，Python 都可以访问到文件。</span></span><br><span class="line">print(os.path.join(<span class="string">'/Users/pilgrim/diveintopython3/examples'</span>, <span class="string">'humansize.py'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取当前用户的Home目录</span></span><br><span class="line">print(os.path.expanduser(<span class="string">'~'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分割完整路径名，目录名和文件名</span></span><br><span class="line">os.path.split(pathname)</span><br><span class="line"><span class="comment"># 输出：('/Users/pilgrim/diveintopython3/examples', 'humansize.py')</span></span><br><span class="line"></span><br><span class="line">(dirname, filename) = os.path.split(pathname)</span><br><span class="line"><span class="comment"># 将split函数的返回值赋值给一个二元组。每个变量获得了返回元组中的对应元素的值</span></span><br><span class="line"></span><br><span class="line">(shortname, extension) = os.path.splitext(filename)</span><br><span class="line"><span class="comment"># 输出：('humansize', '.py')</span></span><br><span class="line"><span class="comment"># os.path.splitext() 函数，它分割一个文件名并返回短文件名和扩展名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### 罗列目录内容</span></span><br><span class="line"><span class="comment"># glob 模块是Python标准库中的另一个工具，它可以通过编程的方法获得一个目录的内容，并且它使用熟悉的命令行下的通配符。</span></span><br><span class="line">glob.glob(<span class="string">'examples/*.xml'</span>)</span><br><span class="line"><span class="comment"># 通配符是一个目录名加上 “*.xml”， 它匹配examples子目录下的所有.xml 文件</span></span><br><span class="line"></span><br><span class="line">glob.glob(<span class="string">'*test*.py'</span>)</span><br><span class="line"><span class="comment"># 在当前工作目录中找出所有扩展名为.py并且在文件名中包含单词test 的文件</span></span><br><span class="line"></span><br><span class="line">metadata = os.stat(<span class="string">'feed.xml'</span>)</span><br><span class="line"><span class="comment"># os.stat() 函数返回一个包含多种文件元信息的对象</span></span><br><span class="line">metadata.st_mtime</span><br><span class="line"><span class="comment"># 返回最后修改时间，时间戳</span></span><br><span class="line">metadata.st_size</span><br><span class="line"><span class="comment"># 返回文件的字节大小</span></span><br><span class="line"></span><br><span class="line">humansize.approximate_size(metadata.st_size)</span><br><span class="line"><span class="comment"># 将st_size 属性作为参数传给approximate_size() 函数。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### 构建绝对路径</span></span><br><span class="line">print(os.path.realpath(<span class="string">'feed.xml'</span>))</span><br><span class="line"><span class="comment"># 输出：/Users/pilgrim/diveintopython3/examples/feed.xml</span></span><br><span class="line"><span class="comment"># os.path.realpath()函数，返回当前文件或者目录的绝对路径</span></span><br></pre></td></tr></table></figure><h4 id="列表解析-1"><a href="#列表解析-1" class="headerlink" title="列表解析"></a>列表解析</h4><p>列表解析提供了一种紧凑的方式，实现了通过对列表中每一个元素应用一个函数的方法来将一个列表映射到另一个列表。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os, glob</span><br><span class="line"><span class="keyword">import</span> humansize</span><br><span class="line"></span><br><span class="line">a_list = [<span class="number">1</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">4</span>]</span><br><span class="line">a_list = [elem * <span class="number">2</span> <span class="keyword">for</span> elem <span class="keyword">in</span> a_list]</span><br><span class="line"><span class="comment"># Python会在内存中构造新的列表，在列表解析完成后将结果赋值给原来的变量</span></span><br><span class="line"></span><br><span class="line">glob.glob(<span class="string">'*.xml'</span>)</span><br><span class="line"><span class="comment"># 输出：['feed-broken.xml', 'feed-ns0.xml', 'feed.xml']</span></span><br><span class="line">[os.path.realpath(f) <span class="keyword">for</span> f <span class="keyword">in</span> glob.glob(<span class="string">'*.xml'</span>)]</span><br><span class="line"><span class="comment"># 输出：['c:\\Users\\pilgrim\\diveintopython3\\examples\\feed-broken.xml','c:\\Users\\pilgrim\\diveintopython3\\examples\\feed-ns0.xml','c:\\Users\\pilgrim\\diveintopython3\\examples\\feed.xml']</span></span><br><span class="line">[f <span class="keyword">for</span> f <span class="keyword">in</span> glob.glob(<span class="string">'*.py'</span>) <span class="keyword">if</span> os.stat(f).st_size &gt; <span class="number">6000</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表解析并不限制表达式的复杂程度</span></span><br><span class="line">[(os.stat(f).st_size, os.path.realpath(f)) <span class="keyword">for</span> f <span class="keyword">in</span> glob.glob(<span class="string">'*.xml'</span>)]</span><br><span class="line"><span class="comment"># 这个列表解析找到当前工作目录下的所有.xml文件， 对于每一个文件构造一个包含文件大小(通过调用os.stat()获得)和绝对路径(通过调用os.path.realpath())的元组。</span></span><br><span class="line"></span><br><span class="line">[(humansize.approximate_size(os.stat(f).st_size), f) <span class="keyword">for</span> f <span class="keyword">in</span> glob.glob(<span class="string">'*.xml'</span>)]</span><br><span class="line"><span class="comment"># 这个列表解析在前一个的基础上对每一个.xml文件的大小应用approximate_size()函数。</span></span><br></pre></td></tr></table></figure><h4 id="字典解析"><a href="#字典解析" class="headerlink" title="字典解析"></a>字典解析</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表解析</span></span><br><span class="line">metadata = [(f, os.stat(f)) <span class="keyword">for</span> f <span class="keyword">in</span> glob.glob(<span class="string">'*test*.py'</span>)]</span><br><span class="line"><span class="comment"># 字典解析</span></span><br><span class="line">metadata_dict = &#123;f:os.stat(f) <span class="keyword">for</span> f <span class="keyword">in</span> glob.glob(<span class="string">'*test*.py'</span>)&#125;</span><br><span class="line"><span class="comment"># 首先，它被花括号而不是方括号包围; 第二，对于每一个元素它包含由冒号分隔的两个表达式，而不是列表解析的一个。冒号前的表达式(在这个例子中是f)是字典的键;冒号后面的表达式(在这个例子中是os.stat(f))是值。</span></span><br><span class="line"></span><br><span class="line">type(metadata_dict)</span><br><span class="line"><span class="comment"># 输出：&lt;class 'dict'&gt;</span></span><br><span class="line"></span><br><span class="line">humansize_dict = &#123;os.path.splitext(f)[<span class="number">0</span>]:humansize.approximate_size(meta.st_size) <span class="keyword">for</span> f, meta <span class="keyword">in</span> metadata_dict.items() <span class="keyword">if</span> meta.st_size &gt; <span class="number">6000</span>&#125;</span><br><span class="line"></span><br><span class="line">list(humansize_dict.keys())</span><br><span class="line"><span class="comment"># 获取key值，并生成list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 交换字典的键和值</span></span><br><span class="line">a_dict = &#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>&#125;</span><br><span class="line">&#123;value:key <span class="keyword">for</span> key, value <span class="keyword">in</span> a_dict.items()&#125;</span><br><span class="line"><span class="comment"># 输出：&#123;1: 'a', 2: 'b', 3: 'c'&#125;</span></span><br></pre></td></tr></table></figure><h4 id="集合解析"><a href="#集合解析" class="headerlink" title="集合解析"></a>集合解析</h4><p>集合也有自己的集合解析的语法。它和字典解析的非常相似，唯一的不同是集合只有值而没有键:值对。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a_set = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;</span><br><span class="line">&#123;x <span class="keyword">for</span> x <span class="keyword">in</span> a_set <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>&#125;</span><br><span class="line"><span class="comment"># 输出：&#123;0, 8, 2, 4, 6&#125;</span></span><br><span class="line"><span class="comment"># 同列表解析和字典解析一样， 集合解析也可以包含if 字句来在将元素放入结果集合前进行过滤。</span></span><br></pre></td></tr></table></figure><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><h4 id="替换操作"><a href="#替换操作" class="headerlink" title="替换操作"></a>替换操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">s = <span class="string">'100 NORTH BROAD ROAD'</span></span><br><span class="line"></span><br><span class="line">s[:<span class="number">-4</span>] + s[<span class="number">-4</span>:].replace(<span class="string">'ROAD'</span>, <span class="string">'RD.'</span>)</span><br><span class="line"><span class="comment"># 输出：'100 NORTH BROAD RD.'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正则表达式模块的re.sub()函数可以做字符串替换</span></span><br><span class="line">re.sub(<span class="string">'ROAD$'</span>, <span class="string">'RD.'</span>, s)</span><br><span class="line"><span class="comment"># 输出：'100 NORTH BROAD RD.'</span></span><br></pre></td></tr></table></figure><h4 id="电话号码解析实例"><a href="#电话号码解析实例" class="headerlink" title="电话号码解析实例"></a>电话号码解析实例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># 电话号码样式：</span></span><br><span class="line">    <span class="comment"># 800-555-1212</span></span><br><span class="line">    <span class="comment"># 800 555 1212</span></span><br><span class="line">    <span class="comment"># 800.555.1212</span></span><br><span class="line">    <span class="comment"># (800) 555-1212</span></span><br><span class="line">    <span class="comment"># 1-800-555-1212</span></span><br><span class="line">    <span class="comment"># 800-555-1212-1234</span></span><br><span class="line">    <span class="comment"># 800-555-1212x1234</span></span><br><span class="line">    <span class="comment"># 800-555-1212 ext. 1234</span></span><br><span class="line">    <span class="comment"># work 1-(800) 555.1212 #1234</span></span><br><span class="line"></span><br><span class="line">phonePattern = re.compile(<span class="string">r'^(\d&#123;3&#125;)-(\d&#123;3&#125;)-(\d&#123;4&#125;)$'</span>)</span><br><span class="line"><span class="comment"># 我们通常从左到右的阅读正则表达式。首先是匹配字符串开始位置，然后是(\d&#123;3&#125;)。\d&#123;3&#125;表示什么意思？\d表示任意的数字（0到9），&#123;3&#125;表示一定要匹配3个数字。这个是你前面看到的&#123;n,m&#125;表示方法。把他们放在圆括号中，表示必须匹配3个数字，并且把他们记做一个组。分组的概念我们后面会说到。然后匹配一个连字符，接着匹配另外的3个数字，他们也同样作为一个组。然后又是一个连字符，后面还要准确匹配4个数字，他们也作为一位分组。最后匹配字符串结尾。</span></span><br><span class="line"></span><br><span class="line">phonePattern = re.compile(<span class="string">r'^(\d&#123;3&#125;)-(\d&#123;3&#125;)-(\d&#123;4&#125;)-(\d+)$'</span>)</span><br><span class="line"><span class="comment"># 这个正则表达式和前面的一样。匹配了字符串开始位置，然后是一个三个数字的分组，接着一个连字符，又是一个三个数字的分组，又是一个连字符，然后一个四个数字的分组。这三个分组匹配的内容都会被记忆下来。和上面不同的是，这里多匹配了一个连字符以及一个分组，这个分组里的内容是匹配一个或更多个数字。最后是字符串结尾。</span></span><br><span class="line"></span><br><span class="line">phonePattern = re.compile(<span class="string">r'^(\d&#123;3&#125;)\D+(\d&#123;3&#125;)\D+(\d&#123;4&#125;)\D+(\d+)$'</span>)</span><br><span class="line"><span class="comment"># 注意了！你匹配了字符串开始，然后是3个数字的分组，接着是\D+，这是什么？好吧，\D匹配除了数字以外的任意字符，+的意思是一个或多个。因此\D+匹配一个或一个以上的非数字字符。这就是你用来替换连字符的东西，它用来匹配不同的分隔符。</span></span><br><span class="line"></span><br><span class="line">phonePattern = re.compile(<span class="string">r'^(\d&#123;3&#125;)\D*(\d&#123;3&#125;)\D*(\d&#123;4&#125;)\D*(\d*)$'</span>)</span><br><span class="line"><span class="comment"># 这里和上面唯一不同的地方是，把所有的+换成了*。号码之间的分隔符不再用\D+来匹配，而是使用\D*。还记得+表示一个或更多吧？好，现在可以解析号码之间没有分隔符的情况了。</span></span><br><span class="line"></span><br><span class="line">phonePattern = re.compile(<span class="string">r'^\D*(\d&#123;3&#125;)\D*(\d&#123;3&#125;)\D*(\d&#123;4&#125;)\D*(\d*)$'</span>)</span><br><span class="line"><span class="comment"># 现在除了在第一个分组之前要用\d*匹配0个或更多非数字字符外，这和前面的例子是相同的。注意你不会对这些非数字字符分组，因为他们不在圆括号内，也就是说不是一个组。如果发现有这些字符，这里只是跳过他们，然后开始对后面的区域码匹配、分组。</span></span><br><span class="line"></span><br><span class="line">phonePattern = re.compile(<span class="string">r'(\d&#123;3&#125;)\D*(\d&#123;3&#125;)\D*(\d&#123;4&#125;)\D*(\d*)$'</span>)</span><br><span class="line"><span class="comment"># 注意正则表达式没有^。不会再匹配字符串开始位置了。正则表达式不会匹配整个字符串，而是试图找到一个字符串开始匹配的位置，然后从这个位置开始匹配。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 最终匹配的正则表达式：</span></span><br><span class="line">phonePattern = re.compile(<span class="string">r'''</span></span><br><span class="line"><span class="string">                # don't match beginning of string, number can start anywhere</span></span><br><span class="line"><span class="string">    (\d&#123;3&#125;)     # area code is 3 digits (e.g. '800')</span></span><br><span class="line"><span class="string">    \D*         # optional separator is any number of non-digits</span></span><br><span class="line"><span class="string">    (\d&#123;3&#125;)     # trunk is 3 digits (e.g. '555')</span></span><br><span class="line"><span class="string">    \D*         # optional separator</span></span><br><span class="line"><span class="string">    (\d&#123;4&#125;)     # rest of number is 4 digits (e.g. '1212')</span></span><br><span class="line"><span class="string">    \D*         # optional separator</span></span><br><span class="line"><span class="string">    (\d*)       # extension is optional and can be any number of digits</span></span><br><span class="line"><span class="string">    $           # end of string</span></span><br><span class="line"><span class="string">    '''</span>, re.VERBOSE)</span><br></pre></td></tr></table></figure><p>到此应该熟悉了下面的技巧：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">^         <span class="comment"># 匹配字符串开始位置。</span></span><br><span class="line">$         <span class="comment"># 匹配字符串结束位置。</span></span><br><span class="line">\b        <span class="comment"># 匹配一个单词边界。</span></span><br><span class="line">\d        <span class="comment"># 匹配一个数字。</span></span><br><span class="line">\D        <span class="comment"># 匹配一个任意的非数字字符。</span></span><br><span class="line">x?        <span class="comment"># 匹配可选的x字符。换句话说，就是0个或者1个x字符。</span></span><br><span class="line">x*        <span class="comment"># 匹配0个或更多的x。</span></span><br><span class="line">x+        <span class="comment"># 匹配1个或者更多x。</span></span><br><span class="line">x&#123;n,m&#125;    <span class="comment"># 匹配n到m个x，至少n个，不能超过m个。</span></span><br><span class="line">(a|b|c)   <span class="comment"># 匹配单独的任意一个a或者b或者c。</span></span><br><span class="line">(x)       <span class="comment"># 这是一个组，它会记忆它匹配到的字符串。你可以用re.search返回的匹配对象的groups()函数来获取到匹配的值。</span></span><br></pre></td></tr></table></figure><h3 id="闭合和生成器"><a href="#闭合和生成器" class="headerlink" title="闭合和生成器"></a>闭合和生成器</h3><h4 id="正则表达式使用"><a href="#正则表达式使用" class="headerlink" title="正则表达式使用"></a>正则表达式使用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">re.sub(<span class="string">'([^aeiou])y$'</span>, <span class="string">r'\1ies'</span>, <span class="string">'vacancy'</span>)</span><br><span class="line"><span class="comment"># 该分组用于保存字母 y 之前的字符。然后在替换字符串中，用到了新的语法： \1，它表示“嘿，记住的第一个分组呢？把它放到这里。”在此例中， 记住了 y 之前的 c ，在进行替换时，将用 c 替代 c，用 ies 替代 y 。（如果有超过一个的记忆分组，可以使用 \2 和 \3 等等。）</span></span><br></pre></td></tr></table></figure><p><a href="https://woodpecker.org.cn/diveintopython3/index.html" target="_blank" rel="noopener">深入python3</a></p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/python/" rel="tag"># python</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2018/01/11/2018-01-11-The-application-of-regular-expressions-in-Python/" rel="prev" title="Python中正则表达式的应用"><i class="fa fa-chevron-left"></i> Python中正则表达式的应用</a></div><div class="post-nav-item"><a href="/2018/02/21/2018-02-21-WeChat-backup-file-management-under-MAC/" rel="next" title="MAC下微信备份文件管理">MAC下微信备份文件管理 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>window.addEventListener("tabs:register",()=>{let e=CONFIG.comments["activeClass"];if(CONFIG.comments.storage&&(e=localStorage.getItem("comments_active")||e),e){let t=document.querySelector(`a[href="#comment-${e}"]`);t&&t.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#List"><span class="nav-number">1.</span> <span class="nav-text">List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#排序"><span class="nav-number">1.1.</span> <span class="nav-text">排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#访问list元素"><span class="nav-number">1.2.</span> <span class="nav-text">访问list元素</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#增删元素『重要』"><span class="nav-number">1.3.</span> <span class="nav-text">增删元素『重要』</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取list长度"><span class="nav-number">1.4.</span> <span class="nav-text">获取list长度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#复制list"><span class="nav-number">1.5.</span> <span class="nav-text">复制list</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#检查特定值是否在list中"><span class="nav-number">1.6.</span> <span class="nav-text">检查特定值是否在list中</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#在list中检索值"><span class="nav-number">1.7.</span> <span class="nav-text">在list中检索值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#if判断条件为list注意点"><span class="nav-number">1.8.</span> <span class="nav-text">if判断条件为list注意点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#多个list判断"><span class="nav-number">1.9.</span> <span class="nav-text">多个list判断</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用函数range"><span class="nav-number">1.10.</span> <span class="nav-text">使用函数range()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对数值列表执行简单的统计计算"><span class="nav-number">1.11.</span> <span class="nav-text">对数值列表执行简单的统计计算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#列表解析"><span class="nav-number">1.12.</span> <span class="nav-text">列表解析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用列表的一部分：列表切片『重要』"><span class="nav-number">1.13.</span> <span class="nav-text">使用列表的一部分：列表切片『重要』</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#分片赋值"><span class="nav-number">1.14.</span> <span class="nav-text">分片赋值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#列表方法"><span class="nav-number">1.15.</span> <span class="nav-text">列表方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串"><span class="nav-number">2.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#设置字符串格式『Python基础教程3-2、3-3节』"><span class="nav-number">2.1.</span> <span class="nav-text">设置字符串格式『Python基础教程3.2、3.3节』</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字符串方法"><span class="nav-number">2.2.</span> <span class="nav-text">字符串方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#元组tuple"><span class="nav-number">3.</span> <span class="nav-text">元组tuple</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#集合"><span class="nav-number">4.</span> <span class="nav-text">集合{ }</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#从list创建集合"><span class="nav-number">4.1.</span> <span class="nav-text">从list创建集合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建空集合"><span class="nav-number">4.2.</span> <span class="nav-text">创建空集合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改集合"><span class="nav-number">4.3.</span> <span class="nav-text">修改集合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#从集合中删除元素"><span class="nav-number">4.4.</span> <span class="nav-text">从集合中删除元素</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#常见集合操作"><span class="nav-number">4.5.</span> <span class="nav-text">常见集合操作</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字典dict"><span class="nav-number">5.</span> <span class="nav-text">字典dict</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#修改字典"><span class="nav-number">5.1.</span> <span class="nav-text">修改字典</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#混合值字典，value不为单个值"><span class="nav-number">5.2.</span> <span class="nav-text">混合值字典，value不为单个值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#grades-‘’"><span class="nav-number">5.3.</span> <span class="nav-text">grades[‘’]</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字典方法『Python基础教程4-2-4节』"><span class="nav-number">5.4.</span> <span class="nav-text">字典方法『Python基础教程4.2.4节』</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#抽象"><span class="nav-number">6.</span> <span class="nav-text">抽象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#参数"><span class="nav-number">6.1.</span> <span class="nav-text">参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#作用域"><span class="nav-number">6.2.</span> <span class="nav-text">作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#递归"><span class="nav-number">6.3.</span> <span class="nav-text">递归</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#面向对象"><span class="nav-number">7.</span> <span class="nav-text">面向对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#封装"><span class="nav-number">7.1.</span> <span class="nav-text">封装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#身份运算符"><span class="nav-number">7.2.</span> <span class="nav-text">身份运算符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解析"><span class="nav-number">8.</span> <span class="nav-text">解析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#处理文件和目录"><span class="nav-number">8.1.</span> <span class="nav-text">处理文件和目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#列表解析-1"><span class="nav-number">8.2.</span> <span class="nav-text">列表解析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字典解析"><span class="nav-number">8.3.</span> <span class="nav-text">字典解析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#集合解析"><span class="nav-number">8.4.</span> <span class="nav-text">集合解析</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#正则表达式"><span class="nav-number">9.</span> <span class="nav-text">正则表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#替换操作"><span class="nav-number">9.1.</span> <span class="nav-text">替换操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#电话号码解析实例"><span class="nav-number">9.2.</span> <span class="nav-text">电话号码解析实例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#闭合和生成器"><span class="nav-number">10.</span> <span class="nav-text">闭合和生成器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#正则表达式使用"><span class="nav-number">10.1.</span> <span class="nav-text">正则表达式使用</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="shadow" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">shadow</p><div class="site-description" itemprop="description">Nothing is Impossible for a Willing Heart!</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">130</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">38</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">90</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/shadow000902" title="github → https:&#x2F;&#x2F;github.com&#x2F;shadow000902" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>github</a> </span><span class="links-of-author-item"><a href="https://twitter.com/shadow000902" title="twitter → https:&#x2F;&#x2F;twitter.com&#x2F;shadow000902" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>twitter</a> </span><span class="links-of-author-item"><a href="https://facebook.com/shadow000902" title="facebook → https:&#x2F;&#x2F;facebook.com&#x2F;shadow000902" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i>facebook</a> </span><span class="links-of-author-item"><a href="http://www.jianshu.com/u/6d646c911d4a" title="jianshu → http:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;6d646c911d4a" rel="noopener" target="_blank"><i class="fa fa-university fa-fw"></i>jianshu</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">shadow</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span class="post-meta-item-text">站点总字数：</span> <span title="站点总字数">638k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">9:40</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT</a> 强力驱动</div><span id="busuanzi_container_site_uv"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-users"></i> </span><span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span id="busuanzi_value_site_pv"></span></span><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>window.__bl={config:{pid:"d6kvwm2md3@f64cc901da27cfb",appType:"web",imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",sendResource:!0,enableLinkTrace:!0,behavior:!0}}</script><script src="https://retcode.alicdn.com/retcode/bl.js" crossorigin></script><div><script>document.write(unescape("%3Cspan id='cnzz_stat_icon_1278741489'%3E%3C/span%3E%3Cscript src='https://s4.cnzz.com/z_stat.php%3Fid%3D1278741489%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"))</script></div><script>!function(){function c(e){return e=encodeURI(e),document.getElementById(e).querySelector(".leancloud-visitors-count")}let{app_id:i,app_key:a,server_url:e}={app_id:"qjdKXm0RH80J6HWCj1X3DREC-gzGzoHsz",app_key:"4rSep9EijQDvdmVi5cPCzgxz",server_url:null};function t(n){var r,t,e,o,l,s=(e,t,o)=>fetch(`${n}/1.1${t}`,{method:e,headers:{"X-LC-Id":i,"X-LC-Key":a,"Content-Type":"application/json"},body:JSON.stringify(o)});CONFIG.page.isPost?CONFIG.hostname===location.hostname&&(t=s,e=document.querySelector(".leancloud_visitors"),o=decodeURI(e.id),l=e.dataset.flagTitle,t("get","/classes/Counter?where="+encodeURIComponent(JSON.stringify({url:o}))).then(e=>e.json()).then(({results:e})=>{0<e.length?(e=e[0],c(o).innerText=e.time+1,t("put","/classes/Counter/"+e.objectId,{time:{__op:"Increment",amount:1}}).catch(e=>{console.error("Failed to save visitor count",e)})):t("post","/classes/Counter",{title:l,url:o,time:1}).then(e=>e.json()).then(()=>{c(o).innerText=1}).catch(e=>{console.error("Failed to create",e)})}).catch(e=>{console.error("LeanCloud Counter Error",e)})):1<=document.querySelectorAll(".post-title-link").length&&(r=[...document.querySelectorAll(".leancloud_visitors")].map(e=>decodeURI(e.id)),s("get","/classes/Counter?where="+encodeURIComponent(JSON.stringify({url:{$in:r}}))).then(e=>e.json()).then(({results:e})=>{for(let t of r){var o=e.find(e=>e.url===t);c(t).innerText=o?o.time:0}}).catch(e=>{console.error("LeanCloud Counter Error",e)}))}var o="-MdYXbMMI"!==i.slice(-9)?e:`https://${i.slice(0,8).toLowerCase()}.api.lncldglobal.com`;o?t(o):fetch("https://app-router.leancloud.cn/2/route?appId="+i).then(e=>e.json()).then(({api_server:e})=>{t("https://"+e)})}()</script></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script>document.querySelectorAll("pre.mermaid").length&&NexT.utils.getScript("//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js",()=>{mermaid.initialize({theme:"dark",logLevel:3,flowchart:{curve:"linear"},gantt:{axisFormat:"%m/%d/%Y"},sequence:{actorMargin:50}})},window.mermaid)</script><script>NexT.utils.loadComments(document.querySelector("#valine-comments"),()=>{NexT.utils.getScript("//unpkg.com/valine/dist/Valine.min.js",()=>{var i=["nick","mail","link"],e="nick,mail,link".split(",").filter(e=>i.includes(e));new Valine({el:"#valine-comments",verify:!1,notify:!1,appId:"qjdKXm0RH80J6HWCj1X3DREC-gzGzoHsz",appKey:"4rSep9EijQDvdmVi5cPCzgxz",placeholder:"Just go go",avatar:"mm",meta:e,pageSize:"10",visitor:!1,lang:"zh-cn",path:location.pathname,recordIP:!1,serverURLs:""})},window.Valine)})</script></body></html>